import{$ as be,$a as Da,$b as Zt,A as ir,Aa as Zg,Ab as Me,Ac as jb,B as rr,Ba as Ke,Bb as _i,C as Ca,Ca as J,Cb as _t,D as Sa,Da as bi,Db as Oe,E as Do,Ea as ve,Eb as Fe,F as or,Fa as eb,Fb as _b,G as We,Ga as Ra,Gb as yb,H as Bn,Ha as tb,Hb as yi,I as mi,Ia as Ot,Ib as ze,J as Tu,Ja as zt,Jb as Lo,K as Au,Ka as Oo,Kb as Ru,L as Xe,La as cr,Lb as wb,M as $g,Ma as lr,Mb as Ib,N as qg,Na as nb,Nb as Eb,O as xu,Oa as ib,Ob as Ct,P as pi,Pa as rb,Pb as Se,Q as zn,Qa as ob,Qb as Tb,R as Cu,Ra as sb,Rb as hr,S as Gg,Sa as ab,Sb as Ab,T as Hg,Ta as cb,Tb as Na,U as Su,Ua as xt,Ub as Ma,V as Wg,Va as lb,Vb as Du,W as Kg,Wa as Fo,Wb as xb,X as ka,Xa as ae,Xb as fr,Y as Po,Ya as P,Yb as Pu,Z as ut,Za as Vo,Zb as Cb,_ as Bt,_a as ub,_b as Sb,a as N,aa as pe,ab as Pa,ac as kb,b as he,ba as gi,bb as db,bc as Rb,ca as j,cb as hb,cc as Qe,d as jn,da as Te,db as fb,dc as Nu,e as y,ea as Qg,eb as ur,ec as _n,f as fi,fa as q,fb as mb,fc as yn,g as _u,ga as ku,gb as $t,gc as mr,h as Nt,ha as F,hb as qt,hc as Db,i as yu,ia as V,ib as pb,ic as Pb,j as wu,ja as vt,jb as gb,jc as fe,k as Ee,ka as No,kb as Ne,kc as Oa,l as wt,la as xe,lb as dt,lc as Nb,m as Ug,ma as Ae,mb as Be,mc as Fa,n as jg,na as ue,nb as Ce,nc as Mb,o as Yt,oa as At,ob as dr,oc as Mu,p as xa,pa as Yg,pb as tt,pc as Ob,q as Iu,qa as Mo,qb as bb,qc as Uo,r as Eu,ra as vn,rb as vb,rc as Ou,s as lt,sa as Jt,sb as G,sc as Fb,t as B,ta as Ze,tb as K,u as bn,ua as et,ub as de,v as Bg,va as Jg,vb as Xt,vc as Vb,w as zg,wa as Xg,wb as vi,wc as Lb,x as z,xa as sr,xb as ge,y as Ro,ya as ar,yb as nt,yc as Fu,z as Mt,za as It,zb as Gt,zc as Ub}from"./chunk-W3DIRBV4.js";var Lu=class{};var pr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Uu=class{encodeKey(e){return Bb(e)}encodeValue(e){return Bb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function AE(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(c),t.set(s,l)}),t}var xE=/%(\d[a-f0-9])/gi,CE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bb(n){return encodeURIComponent(n).replace(xE,(e,t)=>CE[t]??e)}function Va(n){return`${n}`}var $n=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Uu,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=AE(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Va):[Va(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Va(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Va(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ju=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function SE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $b(n){return typeof Blob<"u"&&n instanceof Blob}function qb(n){return typeof FormData<"u"&&n instanceof FormData}function kE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var jo=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(SE(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new pr,this.context??=new ju,!this.params)this.params=new $n,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zb(this.body)||$b(this.body)||qb(this.body)||kE(this.body)?this.body:this.body instanceof $n?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||qb(this.body)?null:$b(this.body)?this.body.type||null:zb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof $n?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,x)=>_.set(x,e.setHeaders[x]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,x)=>_.set(x,e.setParams[x]),f)),new n(t,i,s,{params:f,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:c,transferCache:o})}},Gb=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gb||{}),Bu=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new pr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var zu=class n extends Bu{constructor(e={}){super(e),this.type=Gb.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Vu(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Hb=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof jo)s=i;else{let d;o.headers instanceof pr?d=o.headers:d=new pr(o.headers);let f;o.params&&(o.params instanceof $n?f=o.params:f=new $n({fromObject:o.params})),s=new jo(i,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let c=B(s).pipe(mi(d=>this.handler.handle(d)));if(i instanceof jo||o.observe==="events")return c;let l=c.pipe(We(d=>d instanceof zu));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(z(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(z(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(z(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(z(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new $n().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,Vu(o,r))}post(i,r,o={}){return this.request("POST",i,Vu(o,r))}put(i,r,o={}){return this.request("PUT",i,Vu(o,r))}};e.\u0275fac=function(r){return new(r||e)(F(Lu))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})();var Gu=class extends Pb{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hu=class n extends Gu{static makeCurrent(){Db(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=PE();return t==null?null:NE(t)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nb(document.cookie,e)}},Bo=null;function PE(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}function NE(n){return new URL(n,document.baseURI).pathname}var ME=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),La=new q(""),Qb=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new pe(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(F(La),F(J))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),zo=class{constructor(e){this._doc=e}},$u="ng-app-id",Yb=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ou(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${$u}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute($u),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute($u,this.appId),i.appendChild(c),c}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(F(fe),F(Ra),F(Oo,8),F(Ot))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),qu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ku=/%COMP%/g,Jb="%COMP%",OE=`_nghost-${Jb}`,FE=`_ngcontent-${Jb}`,VE=!0,LE=new q("",{providedIn:"root",factory:()=>VE});function UE(n){return FE.replace(Ku,n)}function jE(n){return OE.replace(Ku,n)}function Xb(n,e){return e.map(t=>t.replace(Ku,n))}var Ua=(()=>{let e=class e{constructor(i,r,o,s,c,l,d,f=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Ou(l),this.defaultRenderer=new $o(i,c,d,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===No.ShadowDom&&(r=he(N({},r),{encapsulation:No.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof ja?o.applyToHost(i):o instanceof qo&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case No.Emulated:s=new ja(d,f,r,this.appId,p,c,l,_);break;case No.ShadowDom:return new Wu(d,f,i,r,c,l,this.nonce,_);default:s=new qo(d,f,r,p,c,l,_);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(F(Qb),F(Yb),F(Ra),F(LE),F(fe),F(Ot),F(J),F(Oo))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),$o=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qu[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Wb(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Wb(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new pe(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=qu[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=qu[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Fo.DashCase|Fo.Important)?e.style.setProperty(t,i,r&Fo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Fo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Wb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Wu=class extends $o{constructor(e,t,i,r,o,s,c,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Xb(r.id,r.styles);for(let f of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qo=class extends $o{constructor(e,t,i,r,o,s,c,l){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?Xb(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ja=class extends qo{constructor(e,t,i,r,o,s,c,l){let d=r+"-"+i.id;super(e,t,i,o,s,c,l,d),this.contentAttr=UE(d),this.hostAttr=jE(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},BE=(()=>{let e=class e extends zo{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(F(fe))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),zE=(()=>{let e=class e extends zo{constructor(i){super(i),this.delegate=V(Rb,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)(F(fe))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),Kb=["alt","control","meta","shift"],$E={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qE={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},GE=(()=>{let e=class e extends zo{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(i,s.domEventName,c))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),Kb.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(i,r){let o=$E[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Kb.forEach(c=>{if(c!==o){let l=qE[c];l(i)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(F(fe))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})();function Zb(n,e){return kb(N({rootComponent:n},HE(e)))}function HE(n){return{appProviders:[...JE,...n?.providers??[]],platformProviders:YE}}function WE(){Hu.makeCurrent()}function KE(){return new bi}function QE(){return eb(document),document}var YE=[{provide:Ot,useValue:Ob},{provide:tb,useValue:WE,multi:!0},{provide:fe,useFactory:QE,deps:[]}];var JE=[{provide:Yg,useValue:"root"},{provide:bi,useFactory:KE,deps:[]},{provide:La,useClass:BE,multi:!0,deps:[fe,J,Ot]},{provide:La,useClass:GE,multi:!0,deps:[fe]},{provide:La,useClass:zE,multi:!0},Ua,Yb,Qb,{provide:Da,useExisting:Ua},{provide:Fb,useClass:ME,deps:[]},[]];var qn=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(F(fe))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Qu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=F(XE),o},providedIn:"root"});let n=e;return n})(),XE=(()=>{let e=class e extends Qu{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case xt.NONE:return r;case xt.HTML:return lr(r,"HTML")?cr(r):cb(this._doc,String(r)).toString();case xt.STYLE:return lr(r,"Style")?cr(r):r;case xt.SCRIPT:if(lr(r,"Script"))return cr(r);throw new pe(5200,!1);case xt.URL:return lr(r,"URL")?cr(r):ab(String(r));case xt.RESOURCE_URL:if(lr(r,"ResourceURL"))return cr(r);throw new pe(5201,!1);default:throw new pe(5202,!1)}}bypassSecurityTrustHtml(i){return nb(i)}bypassSecurityTrustStyle(i){return ib(i)}bypassSecurityTrustScript(i){return rb(i)}bypassSecurityTrustUrl(i){return ob(i)}bypassSecurityTrustResourceUrl(i){return sb(i)}};e.\u0275fac=function(r){return new(r||e)(F(fe))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var te="primary",cs=Symbol("RouteTitle"),ed=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wr(n){return new ed(n)}function tT(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=n[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function nT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!en(n[t],e[t]))return!1;return!0}function en(n,e){let t=n?td(n):void 0,i=e?td(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!av(n[r],e[r]))return!1;return!0}function td(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function av(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function cv(n){return n.length>0?n[n.length-1]:null}function Gn(n){return Bg(n)?n:Ma(n)?lt(Promise.resolve(n)):B(n)}var iT={exact:uv,subset:dv},lv={exact:rT,subset:oT,ignored:()=>!0};function ev(n,e,t){return iT[t.paths](n.root,e.root,t.matrixParams)&&lv[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function rT(n,e){return en(n,e)}function uv(n,e,t){if(!Ii(n.segments,e.segments)||!$a(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!uv(n.children[i],e.children[i],t))return!1;return!0}function oT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>av(n[t],e[t]))}function dv(n,e,t){return hv(n,e,e.segments,t)}function hv(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ii(r,t)||e.hasChildren()||!$a(r,t,i))}else if(n.segments.length===t.length){if(!Ii(n.segments,t)||!$a(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!dv(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ii(n.segments,r)||!$a(n.segments,r,i)||!n.children[te]?!1:hv(n.children[te],e,o,i)}}function $a(n,e,t){return e.every((i,r)=>lv[t](n[r].parameters,i.parameters))}var In=class{constructor(e=new ce([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){return cT.serialize(this)}},ce=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qa(this)}},wi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wr(this.parameters),this._parameterMap}toString(){return mv(this)}};function sT(n,e){return Ii(n,e)&&n.every((t,i)=>en(t.parameters,e[i].parameters))}function Ii(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function aT(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===te&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==te&&(t=t.concat(e(r,i)))}),t}var Cd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>new Xo,providedIn:"root"});let n=e;return n})(),Xo=class{parse(e){let t=new id(e);return new In(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ho(e.root,!0)}`,i=dT(e.queryParams),r=typeof e.fragment=="string"?`#${lT(e.fragment)}`:"";return`${t}${i}${r}`}},cT=new Xo;function qa(n){return n.segments.map(e=>mv(e)).join("/")}function Ho(n,e){if(!n.hasChildren())return qa(n);if(e){let t=n.children[te]?Ho(n.children[te],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==te&&i.push(`${r}:${Ho(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=aT(n,(i,r)=>r===te?[Ho(n.children[te],!1)]:[`${r}:${Ho(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${qa(n)}/${t[0]}`:`${qa(n)}/(${t.join("//")})`}}function fv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ba(n){return fv(n).replace(/%3B/gi,";")}function lT(n){return encodeURI(n)}function nd(n){return fv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ga(n){return decodeURIComponent(n)}function tv(n){return Ga(n.replace(/\+/g,"%20"))}function mv(n){return`${nd(n.path)}${uT(n.parameters)}`}function uT(n){return Object.entries(n).map(([e,t])=>`;${nd(e)}=${nd(t)}`).join("")}function dT(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ba(t)}=${Ba(r)}`).join("&"):`${Ba(t)}=${Ba(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hT=/^[^\/()?;#]+/;function Yu(n){let e=n.match(hT);return e?e[0]:""}var fT=/^[^\/()?;=#]+/;function mT(n){let e=n.match(fT);return e?e[0]:""}var pT=/^[^=?&#]+/;function gT(n){let e=n.match(pT);return e?e[0]:""}var bT=/^[^&#]+/;function vT(n){let e=n.match(bT);return e?e[0]:""}var id=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[te]=new ce(e,t)),i}parseSegment(){let e=Yu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(e),new wi(Ga(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=mT(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Yu(this.remaining);r&&(i=r,this.capture(i))}e[Ga(t)]=Ga(i)}parseQueryParam(e){let t=gT(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=vT(this.remaining);s&&(i=s,this.capture(i))}let r=tv(t),o=tv(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Yu(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new pe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new ce([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new pe(4011,!1)}};function pv(n){return n.segments.length>0?new ce([],{[te]:n}):n}function gv(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=gv(r);if(i===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new ce(n.segments,e);return _T(t)}function _T(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new ce(n.segments.concat(e.segments),e.children)}return n}function Zo(n){return n instanceof In}function yT(n,e,t=null,i=null){let r=bv(n);return vv(r,e,t,i)}function bv(n){let e;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let c=new ce(o.url,s);return o===n&&(e=c),c}let i=t(n.root),r=pv(i);return e??r}function vv(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Ju(r,r,r,t,i);let o=wT(e);if(o.toRoot())return Ju(r,r,new ce([],{}),t,i);let s=IT(o,r,n),c=s.processChildren?Qo(s.segmentGroup,s.index,o.commands):yv(s.segmentGroup,s.index,o.commands);return Ju(r,s.segmentGroup,c,t,i)}function Ha(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function es(n){return typeof n=="object"&&n!=null&&n.outlets}function Ju(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;n===e?s=t:s=_v(n,e,t);let c=pv(gv(s));return new In(c,o,r)}function _v(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=_v(o,e,t)}),new ce(n.segments,i)}var Wa=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ha(i[0]))throw new pe(4003,!1);let r=i.find(es);if(r&&r!==cv(i))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wT(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wa(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Wa(t,e,i)}var vr=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function IT(n,e,t){if(n.isAbsolute)return new vr(e,!0,0);if(!t)return new vr(e,!1,NaN);if(t.parent===null)return new vr(t,!0,0);let i=Ha(n.commands[0])?0:1,r=t.segments.length-1+i;return ET(t,r,n.numberOfDoubleDots)}function ET(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new pe(4005,!1);r=i.segments.length}return new vr(i,!1,r-o)}function TT(n){return es(n[0])?n[0].outlets:{[te]:n}}function yv(n,e,t){if(n??=new ce([],{}),n.segments.length===0&&n.hasChildren())return Qo(n,e,t);let i=AT(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new ce(n.segments.slice(0,i.pathIndex),{});return o.children[te]=new ce(n.segments.slice(i.pathIndex),n.children),Qo(o,0,r)}else return i.match&&r.length===0?new ce(n.segments,{}):i.match&&!n.hasChildren()?rd(n,e,t):i.match?Qo(n,0,r):rd(n,e,t)}function Qo(n,e,t){if(t.length===0)return new ce(n.segments,{});{let i=TT(t),r={};if(Object.keys(i).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=Qo(n.children[te],e,t);return new ce(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=yv(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ce(n.segments,r)}}function AT(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],c=t[i];if(es(c))break;let l=`${c}`,d=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!iv(l,d,s))return o;i+=2}else{if(!iv(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function rd(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(es(o)){let l=xT(o.outlets);return new ce(i,l)}if(r===0&&Ha(t[0])){let l=n.segments[e];i.push(new wi(l.path,nv(t[0]))),r++;continue}let s=es(o)?o.outlets[te]:`${o}`,c=r<t.length-1?t[r+1]:null;s&&c&&Ha(c)?(i.push(new wi(s,nv(c))),r+=2):(i.push(new wi(s,{})),r++)}return new ce(i,{})}function xT(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=rd(new ce([],{}),0,i))}),e}function nv(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function iv(n,e,t){return n==t.path&&en(e,t.parameters)}var Yo="imperative",it=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(it||{}),Ft=class{constructor(e,t){this.id=e,this.url=t}},ts=class extends Ft{constructor(e,t,i="imperative",r=null){super(e,t),this.type=it.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ei=class extends Ft{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kt||{}),od=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(od||{}),wn=class extends Ft{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ti=class extends Ft{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=it.NavigationSkipped}},ns=class extends Ft{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ka=class extends Ft{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends Ft{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ad=class extends Ft{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cd=class extends Ft{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ld=class extends Ft{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ud=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dd=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hd=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},md=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pd=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var is=class{},Ir=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function CT(n,e){return n.providers&&!n._injector&&(n._injector=gb(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ht(n){return n.outlet||te}function ST(n,e){let t=n.filter(i=>Ht(i)===e);return t.push(...n.filter(i=>Ht(i)!==e)),t}function ls(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gd=class{get injector(){return ls(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new tc(this.rootInjector),this.attachRef=null}},tc=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new gd(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(F(Mo))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Qa=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=bd(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=bd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return vd(e,this._root).map(t=>t.value)}};function bd(n,e){if(n===e.value)return e;for(let t of e.children){let i=bd(n,t);if(i)return i}return null}function vd(n,e){if(n===e.value)return[e];for(let t of e.children){let i=vd(n,t);if(i.length)return i.unshift(e),i}return[]}var St=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function br(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ya=class extends Qa{constructor(e,t){super(e),this.snapshot=t,Sd(this,e)}toString(){return this.snapshot.toString()}};function wv(n){let e=kT(n),t=new wt([new wi("",{})]),i=new wt({}),r=new wt({}),o=new wt({}),s=new wt(""),c=new Er(t,i,o,s,r,te,n,e.root);return c.snapshot=e.root,new Ya(new St(c,[]),e)}function kT(n){let e={},t={},i={},r="",o=new _r([],e,i,r,t,te,n,null,{});return new Xa("",new St(o,[]))}var Er=class{constructor(e,t,i,r,o,s,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(d=>d[cs]))??B(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>wr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>wr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ja(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),r?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},r&&Ev(r)&&(i.resolve[cs]=r.title),i}var _r=class{get title(){return this.data?.[cs]}constructor(e,t,i,r,o,s,c,l,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Xa=class extends Qa{constructor(e,t){super(t),this.url=e,Sd(this,t)}toString(){return Iv(this._root)}};function Sd(n,e){e.value._routerState=n,e.children.forEach(t=>Sd(n,t))}function Iv(n){let e=n.children.length>0?` { ${n.children.map(Iv).join(", ")} } `:"";return`${n.value}${e}`}function Xu(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,en(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),en(e.params,t.params)||n.paramsSubject.next(t.params),nT(e.url,t.url)||n.urlSubject.next(t.url),en(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _d(n,e){let t=en(n.params,e.params)&&sT(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||_d(n.parent,e.parent))}function Ev(n){return typeof n.title=="string"||n.title===null}var kd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=V(tc),this.location=V(fb),this.changeDetector=V(Zt),this.inputBinder=V(Rd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=i;let o=this.location,c=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new yd(i,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jt]});let n=e;return n})(),yd=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Er?this.route:e===tc?this.childContexts:this.parent.get(e,t)}},Rd=new q("");function RT(n,e,t){let i=rs(n,e._root,t?t._root:void 0);return new Ya(i,e)}function rs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=DT(n,e,t);return new St(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>rs(n,c)),s}}let i=PT(e.value),r=e.children.map(o=>rs(n,o));return new St(i,r)}}function DT(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return rs(n,i,r);return rs(n,i)})}function PT(n){return new Er(new wt(n.url),new wt(n.params),new wt(n.queryParams),new wt(n.fragment),new wt(n.data),n.outlet,n.component,n)}var os=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Tv="ngNavigationCancelingError";function Za(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Av(!1,kt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Av(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Tv]=!0,t.cancellationCode=e,t}function NT(n){return xv(n)&&Zo(n.url)}function xv(n){return!!n&&n[Tv]}var MT=(n,e,t,i)=>z(r=>(new wd(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),wd=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Xu(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=br(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=br(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=br(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=br(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new pd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fd(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Xu(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Xu(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ec=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yr=class{constructor(e,t){this.component=e,this.route=t}};function OT(n,e,t){let i=n._root,r=e?e._root:null;return Wo(i,r,t,[i.value])}function FT(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ar(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Qg(n)?n:e.get(n):i}function Wo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=br(e);return n.children.forEach(s=>{VT(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Jo(c,t.getContext(s),r)),r}function VT(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=LT(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ec(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wo(n,e,c?c.children:null,i,r):Wo(n,e,t,i,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new yr(c.outlet.component,s))}else s&&Jo(e,c,r),r.canActivateChecks.push(new ec(i)),o.component?Wo(n,null,c?c.children:null,i,r):Wo(n,null,t,i,r);return r}function LT(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ii(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ii(n.url,e.url)||!en(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_d(n,e)||!en(n.queryParams,e.queryParams);case"paramsChange":default:return!_d(n,e)}}function Jo(n,e,t){let i=br(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Jo(s,e.children.getContext(o),t):Jo(s,null,t):Jo(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new yr(e.outlet.component,r)):t.canDeactivateChecks.push(new yr(null,r)):t.canDeactivateChecks.push(new yr(null,r))}function us(n){return typeof n=="function"}function UT(n){return typeof n=="boolean"}function jT(n){return n&&us(n.canLoad)}function BT(n){return n&&us(n.canActivate)}function zT(n){return n&&us(n.canActivateChild)}function $T(n){return n&&us(n.canDeactivate)}function qT(n){return n&&us(n.canMatch)}function Cv(n){return n instanceof zg||n?.name==="EmptyError"}var za=Symbol("INITIAL_VALUE");function Tr(){return ut(n=>Ro(n.map(e=>e.pipe(Xe(1),Po(za)))).pipe(z(e=>{for(let t of e)if(t!==!0){if(t===za)return za;if(t===!1||GT(t))return t}return!0}),We(e=>e!==za),Xe(1)))}function GT(n){return Zo(n)||n instanceof os}function HT(n,e){return Mt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?B(he(N({},t),{guardsResult:!0})):WT(s,i,r,n).pipe(Mt(c=>c&&UT(c)?KT(i,o,n,e):B(c)),z(c=>he(N({},t),{guardsResult:c})))})}function WT(n,e,t,i){return lt(n).pipe(Mt(r=>ZT(r.component,r.route,t,e,i)),zn(r=>r!==!0,!0))}function KT(n,e,t,i){return lt(e).pipe(mi(r=>ir(YT(r.route.parent,i),QT(r.route,i),XT(n,r.path,t),JT(n,r.route,t))),zn(r=>r!==!0,!0))}function QT(n,e){return n!==null&&e&&e(new md(n)),B(!0)}function YT(n,e){return n!==null&&e&&e(new hd(n)),B(!0)}function JT(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return B(!0);let r=i.map(o=>rr(()=>{let s=ls(e)??t,c=Ar(o,s),l=BT(c)?c.canActivate(e,n):vn(s,()=>c(e,n));return Gn(l).pipe(zn())}));return B(r).pipe(Tr())}function XT(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>FT(s)).filter(s=>s!==null).map(s=>rr(()=>{let c=s.guards.map(l=>{let d=ls(s.node)??t,f=Ar(l,d),p=zT(f)?f.canActivateChild(i,n):vn(d,()=>f(i,n));return Gn(p).pipe(zn())});return B(c).pipe(Tr())}));return B(o).pipe(Tr())}function ZT(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(c=>{let l=ls(e)??r,d=Ar(c,l),f=$T(d)?d.canDeactivate(n,e,t,i):vn(l,()=>d(n,e,t,i));return Gn(f).pipe(zn())});return B(s).pipe(Tr())}function eA(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return B(!0);let o=r.map(s=>{let c=Ar(s,n),l=jT(c)?c.canLoad(e,t):vn(n,()=>c(e,t));return Gn(l)});return B(o).pipe(Tr(),Sv(i))}function Sv(n){return _u(be(e=>{if(typeof e!="boolean")throw Za(n,e)}),z(e=>e===!0))}function tA(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return B(!0);let o=r.map(s=>{let c=Ar(s,n),l=qT(c)?c.canMatch(e,t):vn(n,()=>c(e,t));return Gn(l)});return B(o).pipe(Tr(),Sv(i))}var ss=class{constructor(e){this.segmentGroup=e||null}},as=class extends Error{constructor(e){super(),this.urlTree=e}};function gr(n){return bn(new ss(n))}function nA(n){return bn(new pe(4e3,!1))}function iA(n){return bn(Av(!1,kt.GuardRejected))}var Id=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return B(i);if(r.numberOfChildren>1||!r.children[te])return nA(`${e.redirectTo}`);r=r.children[te]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let c=t,{queryParams:l,fragment:d,routeConfig:f,url:p,outlet:_,params:x,data:R,title:M}=r,k=vn(o,()=>c({params:x,data:R,queryParams:l,fragment:d,routeConfig:f,url:p,outlet:_,title:M}));if(k instanceof In)throw new as(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new as(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new In(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=t[c]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(e,l,i,r)}),new ce(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new pe(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Ed={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rA(n,e,t,i,r){let o=Dd(n,e,t);return o.matched?(i=CT(e,i),tA(i,e,t,r).pipe(z(s=>s===!0?o:N({},Ed)))):B(o)}function Dd(n,e,t){if(e.path==="**")return oA(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},Ed):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||tT)(t,n,e);if(!r)return N({},Ed);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function oA(n){return{matched:!0,parameters:n.length>0?cv(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function rv(n,e,t,i){return t.length>0&&cA(n,t,i)?{segmentGroup:new ce(e,aA(i,new ce(t,n.children))),slicedSegments:[]}:t.length===0&&lA(n,t,i)?{segmentGroup:new ce(n.segments,sA(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ce(n.segments,n.children),slicedSegments:t}}function sA(n,e,t,i){let r={};for(let o of t)if(nc(n,e,o)&&!i[Ht(o)]){let s=new ce([],{});r[Ht(o)]=s}return N(N({},i),r)}function aA(n,e){let t={};t[te]=e;for(let i of n)if(i.path===""&&Ht(i)!==te){let r=new ce([],{});t[Ht(i)]=r}return t}function cA(n,e,t){return t.some(i=>nc(n,e,i)&&Ht(i)!==te)}function lA(n,e,t){return t.some(i=>nc(n,e,i))}function nc(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function uA(n,e,t,i){return Ht(n)!==i&&(i===te||!nc(e,t,n))?!1:Dd(e,n,t).matched}function dA(n,e,t){return e.length===0&&!n.children[t]}var Td=class{};function hA(n,e,t,i,r,o,s="emptyOnly"){return new Ad(n,e,t,i,r,s,o).recognize()}var fA=31,Ad=class{constructor(e,t,i,r,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Id(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new pe(4002,`'${e.segmentGroup}'`)}recognize(){let e=rv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(({children:t,rootSnapshot:i})=>{let r=new St(i,t),o=new Xa("",r),s=yT(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new _r([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(z(i=>({children:i,rootSnapshot:t})),Bn(i=>{if(i instanceof as)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ss?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(z(s=>s instanceof St?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return lt(o).pipe(mi(s=>{let c=i.children[s],l=ST(t,s);return this.processSegmentGroup(e,l,c,s,r)}),Su((s,c)=>(s.push(...c),s)),Au(null),Gg(),Mt(s=>{if(s===null)return gr(i);let c=kv(s);return mA(c),B(c)}))}processSegment(e,t,i,r,o,s,c){return lt(t).pipe(mi(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,c).pipe(Bn(d=>{if(d instanceof ss)return B(null);throw d}))),zn(l=>!!l),Bn(l=>{if(Cv(l))return dA(i,r,o)?B(new Td):gr(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,c,l){return uA(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):gr(r):gr(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,c){let{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:_}=Dd(t,r,o);if(!l)return gr(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fA&&(this.allowRedirects=!1));let x=new _r(o,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,ov(r),Ht(r),r.component??r._loadedComponent??null,r,sv(r)),R=Ja(x,c,this.paramsInheritanceStrategy);x.params=Object.freeze(R.params),x.data=Object.freeze(R.data);let M=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,p,x,e);return this.applyRedirects.lineralizeSegments(r,M).pipe(Mt(k=>this.processSegment(e,i,t,k.concat(_),s,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let c=rA(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(ut(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ut(({routes:d})=>{let f=i._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:x}=l,R=new _r(_,p,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,ov(i),Ht(i),i.component??i._loadedComponent??null,i,sv(i)),M=Ja(R,s,this.paramsInheritanceStrategy);R.params=Object.freeze(M.params),R.data=Object.freeze(M.data);let{segmentGroup:k,slicedSegments:H}=rv(t,_,x,d);if(H.length===0&&k.hasChildren())return this.processChildren(f,d,k,R).pipe(z(Z=>new St(R,Z)));if(d.length===0&&H.length===0)return B(new St(R,[]));let Y=Ht(i)===o;return this.processSegment(f,d,k,H,Y?te:o,!0,R).pipe(z(Z=>new St(R,Z instanceof St?[Z]:[])))}))):gr(t)))}getChildConfig(e,t,i){return t.children?B({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):eA(e,t,i,this.urlSerializer).pipe(Mt(r=>r?this.configLoader.loadChildren(e,t).pipe(be(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iA(t))):B({routes:[],injector:e})}};function mA(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function pA(n){let e=n.value.routeConfig;return e&&e.path===""}function kv(n){let e=[],t=new Set;for(let i of n){if(!pA(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=kv(i.children);e.push(new St(i.value,r))}return e.filter(i=>!t.has(i))}function ov(n){return n.data||{}}function sv(n){return n.resolve||{}}function gA(n,e,t,i,r,o){return Mt(s=>hA(n,e,t,i,s.extractedUrl,r,o).pipe(z(({state:c,tree:l})=>he(N({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function bA(n,e){return Mt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return B(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Rv(l))s.add(d);let c=0;return lt(s).pipe(mi(l=>o.has(l)?vA(l,i,n,e):(l.data=Ja(l,l.parent,n).resolve,B(void 0))),be(()=>c++),Cu(1),Mt(l=>c===s.size?B(t):Yt))})}function Rv(n){let e=n.children.map(t=>Rv(t)).flat();return[n,...e]}function vA(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Ev(r)&&(o[cs]=r.title),_A(o,n,e,i).pipe(z(s=>(n._resolvedData=s,n.data=Ja(n,n.parent,t).resolve,null)))}function _A(n,e,t,i){let r=td(n);if(r.length===0)return B({});let o={};return lt(r).pipe(Mt(s=>yA(n[s],e,t,i).pipe(zn(),be(c=>{if(c instanceof os)throw Za(new Xo,c);o[s]=c}))),Cu(1),$g(o),Bn(s=>Cv(s)?Yt:bn(s)))}function yA(n,e,t,i){let r=ls(e)??i,o=Ar(n,r),s=o.resolve?o.resolve(e,t):vn(r,()=>o(e,t));return Gn(s)}function Zu(n){return ut(e=>{let t=n(e);return t?lt(t).pipe(z(()=>e)):B(e)})}var Dv=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(i){return i.data[cs]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>V(wA),providedIn:"root"});let n=e;return n})(),wA=(()=>{let e=class e extends Dv{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(F(qn))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Pd=new q("",{providedIn:"root",factory:()=>({})}),IA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(r,o){r&1&&de(0,"router-outlet")},dependencies:[kd],encapsulation:2});let n=e;return n})();function Nd(n){let e=n.children&&n.children.map(Nd),t=e?he(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=IA),t}var Md=new q(""),EA=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Pu)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return B(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Gn(i.loadComponent()).pipe(z(Pv),be(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),pi(()=>{this.componentLoaders.delete(i)})),o=new wu(r,()=>new Ee).pipe(yu());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=TA(r,this.compiler,i,this.onLoadEndListener).pipe(pi(()=>{this.childrenLoaders.delete(r)})),c=new wu(s,()=>new Ee).pipe(yu());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function TA(n,e,t,i){return Gn(n.loadChildren()).pipe(z(Pv),Mt(r=>r instanceof pb||Array.isArray(r)?B(r):lt(e.compileModuleAsync(r))),z(r=>{i&&i(n);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(t).injector,s=o.get(Md,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nd),injector:o}}))}function AA(n){return n&&typeof n=="object"&&"default"in n}function Pv(n){return AA(n)?n.default:n}var Od=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>V(xA),providedIn:"root"});let n=e;return n})(),xA=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CA=new q("");var SA=new q(""),kA=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=V(EA),this.environmentInjector=V(Mo),this.urlSerializer=V(Cd),this.rootContexts=V(tc),this.location=V(Oa),this.inputBindingEnabled=V(Rd,{optional:!0})!==null,this.titleStrategy=V(Dv),this.options=V(Pd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Od),this.createViewTransition=V(CA,{optional:!0}),this.navigationErrorHandler=V(SA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null;let i=o=>this.events.next(new ud(o)),r=o=>this.events.next(new dd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(he(N(N({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(s=>s.id!==0),z(s=>he(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ut(s=>{let c=!1,l=!1;return B(s).pipe(ut(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",kt.SupersededByNewNavigation),Yt;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?he(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!f&&p!=="reload"){let _="";return this.events.next(new Ti(d.id,this.urlSerializer.serialize(d.rawUrl),_,od.IgnoredSameUrlNavigation)),d.resolve(!1),Yt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return B(d).pipe(ut(_=>{let x=this.transitions?.getValue();return this.events.next(new ts(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),x!==this.transitions?.getValue()?Yt:Promise.resolve(_)}),gA(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),be(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=he(N({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let x=new Ka(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(x)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:_,extractedUrl:x,source:R,restoredState:M,extras:k}=d,H=new ts(_,this.urlSerializer.serialize(x),R,M);this.events.next(H);let Y=wv(this.rootComponentType).snapshot;return this.currentTransition=s=he(N({},d),{targetSnapshot:Y,urlAfterRedirects:x,extras:he(N({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=x,B(s)}else{let _="";return this.events.next(new Ti(d.id,this.urlSerializer.serialize(d.extractedUrl),_,od.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Yt}}),be(d=>{let f=new sd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),z(d=>(this.currentTransition=s=he(N({},d),{guards:OT(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),HT(this.environmentInjector,d=>this.events.next(d)),be(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Za(this.urlSerializer,d.guardsResult);let f=new ad(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),We(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",kt.GuardRejected),!1)),Zu(d=>{if(d.guards.canActivateChecks.length)return B(d).pipe(be(f=>{let p=new cd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),ut(f=>{let p=!1;return B(f).pipe(bA(this.paramsInheritanceStrategy,this.environmentInjector),be({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",kt.NoDataFromResolver)}}))}),be(f=>{let p=new ld(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Zu(d=>{let f=p=>{let _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(be(x=>{p.component=x}),z(()=>{})));for(let x of p.children)_.push(...f(x));return _};return Ro(f(d.targetSnapshot.root)).pipe(Au(null),Xe(1))}),Zu(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return p?lt(p).pipe(z(()=>s)):B(s)}),z(d=>{let f=RT(i.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=he(N({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),be(()=>{this.events.next(new is)}),MT(this.rootContexts,i.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Xe(1),be({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ei(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),Bt(this.transitionAbortSubject.pipe(be(d=>{throw d}))),pi(()=>{!c&&!l&&this.cancelNavigationTransition(s,"",kt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(d=>{if(l=!0,xv(d))this.events.next(new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),NT(d)?this.events.next(new Ir(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let f=new ns(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let p=vn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof os){let{message:_,cancellationCode:x}=Za(this.urlSerializer,p);this.events.next(new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),_,x)),this.events.next(new Ir(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let _=i.errorHandler(d);s.resolve(!!_)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Yt}))}))}cancelNavigationTransition(i,r,o){let s=new wn(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function RA(n){return n!==Yo}var DA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>V(PA),providedIn:"root"});let n=e;return n})(),xd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},PA=(()=>{let e=class e extends xd{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=sr(e)))(o||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Nv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>V(NA),providedIn:"root"});let n=e;return n})(),NA=(()=>{let e=class e extends Nv{constructor(){super(...arguments),this.location=V(Oa),this.urlSerializer=V(Cd),this.options=V(Pd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Od),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof ts)this.stateMemento=this.createStateMemento();else if(i instanceof Ti)this.rawUrlTree=r.initialUrl;else if(i instanceof Ka){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof is?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof wn&&(i.code===kt.GuardRejected||i.code===kt.NoDataFromResolver)?this.restoreHistory(r):i instanceof ns?this.restoreHistory(r,!0):i instanceof Ei&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof In?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=N(N({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=sr(e)))(o||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ko=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ko||{});function MA(n,e){n.events.pipe(We(t=>t instanceof Ei||t instanceof wn||t instanceof ns||t instanceof Ti),z(t=>t instanceof Ei||t instanceof Ti?Ko.COMPLETE:(t instanceof wn?t.code===kt.Redirect||t.code===kt.SupersededByNewNavigation:!1)?Ko.REDIRECTING:Ko.FAILED),We(t=>t!==Ko.REDIRECTING),Xe(1)).subscribe(()=>{e()})}function OA(n){throw n}var FA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(Na),this.stateManager=V(Nv),this.options=V(Pd,{optional:!0})||{},this.pendingTasks=V(Zg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(kA),this.urlSerializer=V(Cd),this.location=V(Oa),this.urlHandlingStrategy=V(Od),this._events=new Ee,this.errorHandler=this.options.errorHandler||OA,this.navigated=!1,this.routeReuseStrategy=V(DA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Md,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Rd,{optional:!0}),this.eventsSubscription=new fi,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof wn&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ei)this.navigated=!0;else if(r instanceof Ir){let c=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d=N({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RA(o.source)},c);this.scheduleNavigation(l,Yo,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}UA(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=N({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Nd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:l,preserveFragment:d}=r,f=d?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let _;try{let x=o?o.snapshot:this.routerState.snapshot.root;_=bv(x)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),_=this.currentUrlTree.root}return vv(_,i,p,f??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Zo(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Yo,null,r)}navigate(i,r={skipLocationChange:!1}){return LA(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=N({},FA):r===!1?o=N({},VA):o=r,Zo(i))return ev(this.currentUrlTree,i,o);let s=this.parseUrl(i);return ev(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let l,d,f;c?(l=c.resolve,d=c.reject,f=c.promise):f=new Promise((_,x)=>{l=_,d=x});let p=this.pendingTasks.add();return MA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function LA(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new pe(4008,!1)}function UA(n){return!(n instanceof is)&&!(n instanceof Ir)}var jA=new q("");function Mv(n,...e){return At([{provide:Md,multi:!0,useValue:n},[],{provide:Er,useFactory:BA,deps:[xr]},{provide:xb,multi:!0,useFactory:zA},e.map(t=>t.\u0275providers)])}function BA(n){return n.routerState.root}function zA(){let n=V(It);return e=>{let t=n.get(fr);if(e!==t.components[0])return;let i=n.get(xr),r=n.get($A);n.get(qA)===1&&i.initialNavigation(),n.get(GA,null,ku.Optional)?.setUpPreloading(),n.get(jA,null,ku.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var $A=new q("",{factory:()=>new Ee}),qA=new q("",{providedIn:"root",factory:()=>1});var GA=new q("");var Vd;try{Vd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vd=!1}var $e=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Uo(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Vd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(F(Ot))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Cr,Ov=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ld(){if(Cr)return Cr;if(typeof document!="object"||!document)return Cr=new Set(Ov),Cr;let n=document.createElement("input");return Cr=new Set(Ov.filter(e=>(n.setAttribute("type",e),n.type===e))),Cr}var ds;function WA(){if(ds==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ds=!0}))}finally{ds=ds||!1}return ds}function Hn(n){return WA()?n:!!n.capture}var Fd;function KA(){if(Fd==null){let n=typeof document<"u"?document.head:null;Fd=!!(n&&(n.createShadowRoot||n.attachShadow))}return Fd}function Fv(n){if(KA()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function En(n){return n.composedPath?n.composedPath()[0]:n.target}function Vv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function xi(n){return n!=null&&`${n}`!="false"}function Ud(n){return Array.isArray(n)?n:[n]}function tn(n){return n instanceof ve?n.nativeElement:n}var QA=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Lv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({providers:[QA]});let n=e;return n})();var Uv=new Set,Ci,YA=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):XA}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&JA(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(F($e),F(Oo,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function JA(n,e){if(!Uv.has(n))try{Ci||(Ci=document.createElement("style"),e&&Ci.setAttribute("nonce",e),Ci.setAttribute("type","text/css"),document.head.appendChild(Ci)),Ci.sheet&&(Ci.sheet.insertRule(`@media ${n} {body{ }}`,0),Uv.add(n))}catch(t){console.error(t)}}function XA(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Bv=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Ee}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return jv(Ud(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=jv(Ud(i)).map(c=>this._registerQuery(c).observable),s=Ro(o);return s=ir(s.pipe(Xe(1)),s.pipe(ka(1),Tu(0))),s.pipe(z(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:f})=>{l.matches=l.matches||d,l.breakpoints[f]=d}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new Nt(c=>{let l=d=>this._zone.run(()=>c.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Po(r),z(({matches:c})=>({query:i,matches:c})),Bt(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(F(YA),F(J))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function jv(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Bd(n){return n.buttons===0||n.detail===0}function zd(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var ZA=new q("cdk-input-modality-detector-options"),ex={ignoreKeys:[18,17,224,91,16]},qv=650,Sr=Hn({passive:!0,capture:!0}),tx=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new wt(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=En(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<qv||(this._modality.next(Bd(c)?"keyboard":"mouse"),this._mostRecentTarget=En(c))},this._onTouchstart=c=>{if(zd(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=En(c)},this._options=N(N({},ex),s),this.modalityDetected=this._modality.pipe(ka(1)),this.modalityChanged=this.modalityDetected.pipe(xu()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Sr),o.addEventListener("mousedown",this._onMousedown,Sr),o.addEventListener("touchstart",this._onTouchstart,Sr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sr),document.removeEventListener("mousedown",this._onMousedown,Sr),document.removeEventListener("touchstart",this._onTouchstart,Sr))}};e.\u0275fac=function(r){return new(r||e)(F($e),F(J),F(fe),F(ZA,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var rc=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(rc||{}),nx=new q("cdk-focus-monitor-default-options"),ic=Hn({passive:!0,capture:!0}),Gv=(()=>{let e=class e{constructor(i,r,o,s,c){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ee,this._rootNodeFocusAndBlurListener=l=>{let d=En(l);for(let f=d;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=c?.detectionMode||rc.IMMEDIATE}monitor(i,r=!1){let o=tn(i);if(!this._platform.isBrowser||o.nodeType!==1)return B();let s=Fv(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new Ee,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let r=tn(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=tn(i),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===rc.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===rc.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?qv:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=En(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ic),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ic)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ic),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ic),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(F(J),F($e),F(tx),F(fe,8),F(nx,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Si=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Si||{}),zv="cdk-high-contrast-black-on-white",$v="cdk-high-contrast-white-on-black",jd="cdk-high-contrast-active",Hv=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=V(Bv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Si.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Si.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Si.BLACK_ON_WHITE}return Si.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(jd,zv,$v),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Si.BLACK_ON_WHITE?i.add(jd,zv):r===Si.WHITE_ON_BLACK&&i.add(jd,$v)}}};e.\u0275fac=function(r){return new(r||e)(F($e),F(fe))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var rx=new q("cdk-dir-doc",{providedIn:"root",factory:ox});function ox(){return V(fe)}var sx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ax(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?sx.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Wv=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Ke,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=ax(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(F(rx,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var $d=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({});let n=e;return n})();var ux=["mat-internal-form-field",""],dx=["*"];function hx(){return!0}var fx=new q("mat-sanity-checks",{providedIn:"root",factory:hx}),Wn=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Vv()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(F(Hv),F(fx,8),F(fe))},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({imports:[$d,$d]});let n=e;return n})();var sc=class{constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var n_=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Vt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Vt||{}),Hd=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Vt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Kv=Hn({passive:!0,capture:!0}),Wd=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=En(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Kv)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Kv)))}},Qv={enterDuration:225,exitDuration:150},mx=800,Yv=Hn({passive:!0,capture:!0}),Jv=["mousedown","touchstart"],Xv=["mouseup","mouseleave","touchend","touchcancel"],hs=class hs{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=tn(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=N(N({},Qv),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||px(e,t,r),c=e-r.left,l=t-r.top,d=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${l-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),_=p.transitionProperty,x=p.transitionDuration,R=_==="none"||x==="0s"||x==="0s, 0s"||r.width===0&&r.height===0,M=new Hd(this,f,i,R);f.style.transform="scale3d(1, 1, 1)",M.state=Vt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=M);let k=null;return!R&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let H=()=>{k&&(k.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(M)},Y=()=>this._destroyRipple(M),Z=setTimeout(Y,d+100);f.addEventListener("transitionend",H),f.addEventListener("transitioncancel",Y),k={onTransitionEnd:H,onTransitionCancel:Y,fallbackTimer:Z}}),this._activeRipples.set(M,k),(R||!d)&&this._finishRippleTransition(M),M}fadeOutRipple(e){if(e.state===Vt.FADING_OUT||e.state===Vt.HIDDEN)return;let t=e.element,i=N(N({},Qv),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Vt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=tn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Jv.forEach(i=>{hs._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Xv.forEach(t=>{this._triggerElement.addEventListener(t,this,Yv)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Vt.FADING_IN?this._startFadeOutTransition(e):e.state===Vt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Vt.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Vt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Bd(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+mx;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!zd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Vt.VISIBLE||e.config.terminateOnPointerUp&&e.state===Vt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Jv.forEach(t=>hs._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Xv.forEach(t=>e.removeEventListener(t,this,Yv)),this._pointerUpEventsRegistered=!1))}};hs._eventManager=new Wd;var Kd=hs;function px(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var i_=new q("mat-ripple-global-options"),ac=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,c){this._elementRef=i,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Kd(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:N(N(N({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,N(N({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,N(N({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(P(ve),P(J),P($e),P(i_,8),P(zt,8))},e.\u0275dir=ue({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Ce("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})();var Zv={capture:!0},e_=["focus","mousedown","mouseenter","touchstart"],qd="mat-ripple-loader-uninitialized",Gd="mat-ripple-loader-class-name",t_="mat-ripple-loader-centered",oc="mat-ripple-loader-disabled",r_=(()=>{let e=class e{constructor(){this._document=V(fe,{optional:!0}),this._animationMode=V(zt,{optional:!0}),this._globalRippleOptions=V(i_,{optional:!0}),this._platform=V($e),this._ngZone=V(J),this._hosts=new Map,this._onInteraction=i=>{let r=En(i);if(r instanceof HTMLElement){let o=r.closest(`[${qd}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of e_)this._document?.addEventListener(i,this._onInteraction,Zv)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of e_)this._document?.removeEventListener(r,this._onInteraction,Zv)}configureRipple(i,r){i.setAttribute(qd,this._globalRippleOptions?.namespace??""),(r.className||!i.hasAttribute(Gd))&&i.setAttribute(Gd,r.className||""),r.centered&&i.setAttribute(t_,""),r.disabled&&i.setAttribute(oc,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(oc,""):i.removeAttribute(oc)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(Gd)),i.append(o);let s=new ac(new ve(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(t_),s.disabled=i.hasAttribute(oc),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(qd),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),o_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=xe({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&Ce("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Se],attrs:ux,ngContentSelectors:dx,decls:1,vars:0,template:function(r,o){r&1&&(Gt(),Me(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let n=e;return n})();var bx=["mat-button",""],vx=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_x=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var yx=new q("MAT_BUTTON_CONFIG");var wx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ix=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=V(Gv),this._rippleLoader=V(r_),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=V(yx,{optional:!0}),l=i.nativeElement,d=l.classList;this.disabledInteractive=c?.disabledInteractive??!1,this.color=c?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:f,mdcClasses:p}of wx)l.hasAttribute(f)&&d.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Vo()},e.\u0275dir=ue({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Qe],disabled:[2,"disabled","disabled",Qe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qe]},features:[qt]});let n=e;return n})();var kr=(()=>{let e=class e extends Ix{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(P(ve),P($e),P(J),P(zt,8))},e.\u0275cmp=xe({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(dt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),dr(o.color?"mat-"+o.color:""),Ce("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[$t,Se],attrs:bx,ngContentSelectors:_x,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Gt(vx),de(0,"span",0),Me(1),G(2,"span",1),Me(3,1),K(),Me(4,2),de(5,"span",2)(6,"span",3)),r&2&&Ce("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let n=e;return n})();var a_=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Ex=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],c=n[t++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},c_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,c=s?n[r+1]:0,l=r+2<n.length,d=l?n[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,_=(c&15)<<2|d>>6,x=d&63;l||(x=64,s||(_=64)),i.push(t[f],t[p],t[_],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ex(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let d=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||d==null||p==null)throw new Yd;let _=o<<2|c>>4;if(i.push(_),d!==64){let x=c<<4&240|d>>2;if(i.push(x),p!==64){let R=d<<6&192|p;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Yd=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Tx=function(n){let e=a_(n);return c_.encodeByteArray(e,!0)},fs=function(n){return Tx(n).replace(/\./g,"")},Xd=function(n){try{return c_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xx=()=>Ax().__FIREBASE_DEFAULTS__,Cx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Sx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Xd(n[1]);return e&&JSON.parse(e)},lc=()=>{try{return xx()||Cx()||Sx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Zd=n=>{var e,t;return(t=(e=lc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},l_=n=>{let e=Zd(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},eh=()=>{var n;return(n=lc())===null||n===void 0?void 0:n.config},th=n=>{var e;return(e=lc())===null||e===void 0?void 0:e[`_${n}`]};var cc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function u_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fs(JSON.stringify(t)),fs(JSON.stringify(s)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function kx(){var n;let e=(n=lc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h_(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m_(){let n=qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p_(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nh(){try{return typeof indexedDB=="object"}catch{return!1}}function g_(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Rx="FirebaseError",Rt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Rx,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}},Tn=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?Dx(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Rt(r,c,i)}};function Dx(n,e){return n.replace(Px,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Px=/\{\$([^}]+)}/g;function b_(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ki(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(s_(o)&&s_(s)){if(!ki(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function s_(n){return n!==null&&typeof n=="object"}function Rr(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function v_(n,e){let t=new Jd(n,e);return t.subscribe.bind(t)}var Jd=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Nx(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Qd),r.error===void 0&&(r.error=Qd),r.complete===void 0&&(r.complete=Qd);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nx(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qd(){}var $1=4*60*60*1e3;function Ve(n){return n&&n._delegate?n._delegate:n}var Lt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ri="[DEFAULT]";var ih=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new cc;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ox(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Mx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mx(n){return n===Ri?void 0:n}function Ox(n){return n.instantiationMode==="EAGER"}var uc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ih(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Fx=[],ne=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ne||{}),Vx={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Lx=ne.INFO,Ux={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},jx=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Ux[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kn=class{constructor(e){this.name=e,this._logLevel=Lx,this._logHandler=jx,this._userLogHandler=null,Fx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var Bx=(n,e)=>e.some(t=>n instanceof t),__,y_;function zx(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $x(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var w_=new WeakMap,oh=new WeakMap,I_=new WeakMap,rh=new WeakMap,ah=new WeakMap;function qx(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(nn(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&w_.set(t,n)}).catch(()=>{}),ah.set(e,n),e}function Gx(n){if(oh.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});oh.set(n,e)}var sh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return oh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||I_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function E_(n){sh=n(sh)}function Hx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(dc(this),e,...t);return I_.set(i,e.sort?e.sort():[e]),nn(i)}:$x().includes(n)?function(...e){return n.apply(dc(this),e),nn(w_.get(this))}:function(...e){return nn(n.apply(dc(this),e))}}function Wx(n){return typeof n=="function"?Hx(n):(n instanceof IDBTransaction&&Gx(n),Bx(n,zx())?new Proxy(n,sh):n)}function nn(n){if(n instanceof IDBRequest)return qx(n);if(rh.has(n))return rh.get(n);let e=Wx(n);return e!==n&&(rh.set(n,e),ah.set(e,n)),e}var dc=n=>ah.get(n);function A_(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),c=nn(s);return i&&s.addEventListener("upgradeneeded",l=>{i(nn(s.result),l.oldVersion,l.newVersion,nn(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var Kx=["get","getKey","getAll","getAllKeys","count"],Qx=["put","add","delete","clear"],ch=new Map;function T_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=Qx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Kx.includes(t)))return;let o=function(s,...c){return y(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]})};return ch.set(e,o),o}E_(n=>he(N({},n),{get:(e,t,i)=>T_(e,t)||n.get(e,t,i),has:(e,t)=>!!T_(e,t)||n.has(e,t)}));var uh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Yx(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Yx(n){let e=n.getComponent();return e?.type==="VERSION"}var dh="@firebase/app",x_="0.10.7";var Di=new Kn("@firebase/app"),Jx="@firebase/app-compat",Xx="@firebase/analytics-compat",Zx="@firebase/analytics",eC="@firebase/app-check-compat",tC="@firebase/app-check",nC="@firebase/auth",iC="@firebase/auth-compat",rC="@firebase/database",oC="@firebase/database-compat",sC="@firebase/functions",aC="@firebase/functions-compat",cC="@firebase/installations",lC="@firebase/installations-compat",uC="@firebase/messaging",dC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",mC="@firebase/remote-config",pC="@firebase/remote-config-compat",gC="@firebase/storage",bC="@firebase/storage-compat",vC="@firebase/firestore",_C="@firebase/vertexai-preview",yC="@firebase/firestore-compat",wC="firebase",IC="10.12.4";var hh="[DEFAULT]",EC={[dh]:"fire-core",[Jx]:"fire-core-compat",[Zx]:"fire-analytics",[Xx]:"fire-analytics-compat",[tC]:"fire-app-check",[eC]:"fire-app-check-compat",[nC]:"fire-auth",[iC]:"fire-auth-compat",[rC]:"fire-rtdb",[oC]:"fire-rtdb-compat",[sC]:"fire-fn",[aC]:"fire-fn-compat",[cC]:"fire-iid",[lC]:"fire-iid-compat",[uC]:"fire-fcm",[dC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[mC]:"fire-rc",[pC]:"fire-rc-compat",[gC]:"fire-gcs",[bC]:"fire-gcs-compat",[vC]:"fire-fst",[yC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[wC]:"fire-js-all"};var ms=new Map,TC=new Map,fh=new Map;function C_(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yn(n){let e=n.name;if(fh.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;fh.set(e,n);for(let t of ms.values())C_(t,n);for(let t of TC.values())C_(t,n);return!0}function gs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rn(n){return n.settings!==void 0}var AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new Tn("app","Firebase",AC);var mh=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}};var Jn=IC;function bh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:hh,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Qn.create("bad-app-name",{appName:String(r)});if(t||(t=eh()),!t)throw Qn.create("no-options");let o=ms.get(r);if(o){if(ki(t,o.options)&&ki(i,o.config))return o;throw Qn.create("duplicate-app",{appName:r})}let s=new uc(r);for(let l of fh.values())s.addComponent(l);let c=new mh(t,i,s);return ms.set(r,c),c}function Dr(n=hh){let e=ms.get(n);if(!e&&n===hh&&eh())return bh();if(!e)throw Qn.create("no-app",{appName:n});return e}function hc(){return Array.from(ms.values())}function Ge(n,e,t){var i;let r=(i=EC[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(c.join(" "));return}Yn(new Lt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var xC="firebase-heartbeat-database",CC=1,ps="firebase-heartbeat-store",lh=null;function D_(){return lh||(lh=A_(xC,CC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ps)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qn.create("idb-open",{originalErrorMessage:n.message})})),lh}function SC(n){return y(this,null,function*(){try{let t=(yield D_()).transaction(ps),i=yield t.objectStore(ps).get(P_(n));return yield t.done,i}catch(e){if(e instanceof Rt)Di.warn(e.message);else{let t=Qn.create("idb-get",{originalErrorMessage:e?.message});Di.warn(t.message)}}})}function S_(n,e){return y(this,null,function*(){try{let i=(yield D_()).transaction(ps,"readwrite");yield i.objectStore(ps).put(e,P_(n)),yield i.done}catch(t){if(t instanceof Rt)Di.warn(t.message);else{let i=Qn.create("idb-set",{originalErrorMessage:t?.message});Di.warn(i.message)}}})}function P_(n){return`${n.name}!${n.options.appId}`}var kC=1024,RC=30*24*60*60*1e3,ph=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new gh(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return y(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=k_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=RC}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return y(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=k_(),{heartbeatsToSend:i,unsentEntries:r}=DC(this._heartbeatsCache.heartbeats),o=fs(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function k_(){return new Date().toISOString().substring(0,10)}function DC(n,e=kC){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),R_(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),R_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var gh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return nh()?g_().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield SC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return S_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return S_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function R_(n){return fs(JSON.stringify({version:2,heartbeats:n})).length}function PC(n){Yn(new Lt("platform-logger",e=>new uh(e),"PRIVATE")),Yn(new Lt("heartbeat",e=>new ph(e),"PRIVATE")),Ge(dh,x_,n),Ge(dh,x_,"esm2017"),Ge("fire-js","")}PC("");var NC="firebase",MC="10.12.4";Ge(NC,MC,"app");var Ni=new hr("ANGULARFIRE2_VERSION");function mc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var bs=(n,e)=>{let t=e?[e]:hc(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Nr=class{constructor(){return bs(OC)}},OC="app-check";function Pr(){}var fc=class{zone;delegate;constructor(e,t=jg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},vh=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)),t.pipe(be({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Mr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fc(Zone.current)),this.insideAngular=t.run(()=>new fc(Zone.current,Ug)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(F(J))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pc(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function FC(n){return pc().ngZone.runOutsideAngular(()=>n())}function Pi(n){return pc().ngZone.run(()=>n())}function VC(n){return LC(pc())(n)}function LC(n){return function(t){return t=t.lift(new vh(n.ngZone)),t.pipe(Eu(n.outsideAngular),Iu(n.insideAngular))}}var UC=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Pi(()=>n.apply(void 0,i))},rt=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Pi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr))),i[o]=UC(i[o],t));let r=FC(()=>n.apply(this,i));if(!e)if(r instanceof Nt){let o=pc();return r.pipe(Eu(o.outsideAngular),Iu(o.insideAngular))}else return Pi(()=>r);return r instanceof Nt?r.pipe(VC):r instanceof Promise?Pi(()=>new Promise((o,s)=>r.then(c=>Pi(()=>o(c)),c=>Pi(()=>s(c))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Pi(()=>r)};var An=class{constructor(e){return e}},Mi=class{constructor(){return hc()}};function jC(n){return n&&n.length===1?n[0]:new An(Dr())}var _h=new q("angularfire2._apps"),BC={provide:An,useFactory:jC,deps:[[new vt,_h]]},zC={provide:Mi,deps:[[new vt,_h]]};function $C(n){return(e,t)=>{let i=t.get(Ot);Ge("angularfire",Ni.full,"core"),Ge("angularfire",Ni.full,"app"),Ge("angular",Ab.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new An(r)}}function N_(n,...e){return At([BC,zC,{provide:_h,useFactory:$C(n),multi:!0,deps:[J,It,Mr,...e]}])}var M_=rt(bh,!0);function Q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Y_=Q_,J_=new Tn("auth","Firebase",Q_());var wc=new Kn("@firebase/auth");function qC(n,...e){wc.logLevel<=ne.WARN&&wc.warn(`Auth (${Jn}): ${n}`,...e)}function bc(n,...e){wc.logLevel<=ne.ERROR&&wc.error(`Auth (${Jn}): ${n}`,...e)}function sn(n,...e){throw Vh(n,...e)}function Wt(n,...e){return Vh(n,...e)}function Fh(n,e,t){let i=Object.assign(Object.assign({},Y_()),{[e]:t});return new Tn("auth","Firebase",i).create(e,{appName:n.name})}function Oi(n){return Fh(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GC(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&sn(n,"argument-error"),Fh(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vh(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return J_.create(n,...e)}function Q(n,e,...t){if(!n)throw Vh(e,...t)}function xn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw bc(e),new Error(e)}function Sn(n,e){n||xn(e)}function Ih(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HC(){return O_()==="http:"||O_()==="https:"}function O_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function WC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||h_()||"connection"in navigator)?navigator.onLine:!0}function KC(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Fi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sn(t>e,"Short delay should be less than long delay!"),this.isMobile=d_()||f_()}get(){return WC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Lh(n,e){Sn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ic=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var QC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var YC=new Fi(3e4,6e4);function Uh(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Vr(o,s,c,l){return y(this,arguments,function*(n,e,t,i,r={}){return X_(n,r,()=>y(this,null,function*(){let d={},f={};i&&(e==="GET"?f=i:d={body:JSON.stringify(i)});let p=Rr(Object.assign({key:n.config.apiKey},f)).slice(1),_=yield n._getAdditionalHeaders();return _["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode),Ic.fetch()(Z_(n,n.config.apiHost,t,p),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},d))}))})}function X_(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},QC),e);try{let r=new Eh(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gc(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw gc(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw gc(n,"user-disabled",s);let f=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Fh(n,f,d);sn(n,f)}}catch(r){if(r instanceof Rt)throw r;sn(n,"network-request-failed",{message:String(r)})}})}function JC(o,s,c,l){return y(this,arguments,function*(n,e,t,i,r={}){let d=yield Vr(n,e,t,i,r);return"mfaPendingCredential"in d&&sn(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function Z_(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Lh(n.config,r):`${n.config.apiScheme}://${r}`}var Eh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wt(this.auth,"network-request-failed")),YC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gc(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Wt(n,e,i);return r.customData._tokenResponse=t,r}function XC(n,e){return y(this,null,function*(){return Vr(n,"POST","/v1/accounts:delete",e)})}function ey(n,e){return y(this,null,function*(){return Vr(n,"POST","/v1/accounts:lookup",e)})}function vs(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jh(n,e=!1){return y(this,null,function*(){let t=Ve(n),i=yield t.getIdToken(e),r=Bh(i);Q(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:vs(yh(r.auth_time)),issuedAtTime:vs(yh(r.iat)),expirationTime:vs(yh(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function yh(n){return Number(n)*1e3}function Bh(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{let r=Xd(t);return r?JSON.parse(r):(bc("Failed to decode base64 JWT payload"),null)}catch(r){return bc("Caught error parsing JWT payload as JSON",r?.toString()),null}}function F_(n){let e=Bh(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ys(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Rt&&ZC(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function ZC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Th=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ws=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vs(this.lastLoginAt),this.creationTime=vs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ec(n){return y(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield ys(n,ey(t,{idToken:i}));Q(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ty(o.providerUserInfo):[],c=eS(n.providerData,s),l=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!c?.length,f=l?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ws(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function zh(n){return y(this,null,function*(){let e=Ve(n);yield Ec(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eS(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function ty(n){return n.map(e=>{var{providerId:t}=e,i=xa(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function tS(n,e){return y(this,null,function*(){let t=yield X_(n,{},()=>y(this,null,function*(){let i=Rr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=Z_(n,r,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ic.fetch()(s,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function nS(n,e){return y(this,null,function*(){return Vr(n,"POST","/v2/accounts:revokeToken",Uh(n,e))})}var _s=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=F_(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield tS(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(Q(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return xn("not implemented")}};function Xn(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Fr=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=xa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Th(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ws(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield ys(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return jh(this,e)}reload(){return zh(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ec(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(rn(this.auth.app))return Promise.reject(Oi(this.auth));let e=yield this.getIdToken();return yield ys(this,XC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,c,l,d,f;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(r=t.email)!==null&&r!==void 0?r:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,H=(d=t.createdAt)!==null&&d!==void 0?d:void 0,Y=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:we,isAnonymous:pt,providerData:le,stsTokenManager:I}=t;Q(Z&&I,e,"internal-error");let g=_s.fromJSON(this.name,I);Q(typeof Z=="string",e,"internal-error"),Xn(p,e.name),Xn(_,e.name),Q(typeof we=="boolean",e,"internal-error"),Q(typeof pt=="boolean",e,"internal-error"),Xn(x,e.name),Xn(R,e.name),Xn(M,e.name),Xn(k,e.name),Xn(H,e.name),Xn(Y,e.name);let v=new n({uid:Z,auth:e,email:_,emailVerified:we,displayName:p,isAnonymous:pt,photoURL:R,phoneNumber:x,tenantId:M,stsTokenManager:g,createdAt:H,lastLoginAt:Y});return le&&Array.isArray(le)&&(v.providerData=le.map(w=>Object.assign({},w))),k&&(v._redirectEventId=k),v}static _fromIdTokenResponse(e,t,i=!1){return y(this,null,function*(){let r=new _s;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ec(o),o})}static _fromGetAccountInfoResponse(e,t,i){return y(this,null,function*(){let r=t.users[0];Q(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?ty(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new _s;c.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ws(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var V_=new Map;function Cn(n){Sn(n instanceof Function,"Expected a class definition");let e=V_.get(n);return e?(Sn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,V_.set(n,e),e)}var iS=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,i){return y(this,null,function*(){this.storage[t]=i})}_get(t){return y(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Ah=iS;function vc(n,e,t){return`firebase:${n}:${e}:${t}`}var Tc=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=vc(this.userKey,r.apiKey,o),this.fullPersistenceKey=vc("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fr._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return y(this,null,function*(){if(!t.length)return new n(Cn(Ah),e,i);let r=(yield Promise.all(t.map(d=>y(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||Cn(Ah),s=vc(i,e.config.apiKey,e.name),c=null;for(let d of t)try{let f=yield d._get(s);if(f){let p=Fr._fromJSON(e,f);d!==o&&(c=p),o=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,i):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(d=>y(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,i))})}};function L_(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ry(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ny(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sy(e))return"Blackberry";if(ay(e))return"Webos";if($h(e))return"Safari";if((e.includes("chrome/")||iy(e))&&!e.includes("edge/"))return"Chrome";if(oy(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function ny(n=qe()){return/firefox\//i.test(n)}function $h(n=qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iy(n=qe()){return/crios\//i.test(n)}function ry(n=qe()){return/iemobile/i.test(n)}function oy(n=qe()){return/android/i.test(n)}function sy(n=qe()){return/blackberry/i.test(n)}function ay(n=qe()){return/webos/i.test(n)}function Dc(n=qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rS(n=qe()){var e;return Dc(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oS(){return m_()&&document.documentMode===10}function cy(n=qe()){return Dc(n)||oy(n)||ay(n)||sy(n)||/windows phone/i.test(n)||ry(n)}function sS(){try{return!!(window&&window!==window.top)}catch{return!1}}function ly(n,e=[]){let t;switch(n){case"Browser":t=L_(qe());break;case"Worker":t=`${L_(qe())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jn}/${i}`}var xh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,c)=>{try{let l=e(o);s(l)}catch(l){c(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function aS(t){return y(this,arguments,function*(n,e={}){return Vr(n,"GET","/v2/passwordPolicy",Uh(n,e))})}var cS=6,Ch=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:cS,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Sh=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ac(this),this.idTokenSubscription=new Ac(this),this.beforeStateQueue=new xh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cn(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Tc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield ey(this,{idToken:e}),i=yield Fr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var t;if(rn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Ec(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=KC()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(rn(this.app))return Promise.reject(Oi(this));let t=e?Ve(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return rn(this.app)?Promise.reject(Oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return rn(this.app)?Promise.reject(Oi(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Cn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield aS(this),t=new Ch(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield nS(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Cn(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield Tc.create(this,[Cn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ly(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return y(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&qC(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Pc(n){return Ve(n)}var Ac=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=v_(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qh={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lS(n){qh=n}function uS(n){return qh.loadJS(n)}function dS(){return qh.gapiScript}function uy(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Gh(n,e){let t=gs(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(ki(o,e??{}))return r;sn(r,"already-initialized")}return t.initialize({options:e})}function hS(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Cn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Hh(n,e,t){let i=Pc(n);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=dy(e),{host:s,port:c}=fS(e),l=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||mS()}function dy(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fS(n){let e=dy(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:U_(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:U_(s)}}}function U_(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function mS(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Is=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,t){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}};function Or(n,e){return y(this,null,function*(){return JC(n,"POST","/v1/accounts:signInWithIdp",Uh(n,e))})}var pS="http://localhost",Es=class n extends Is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=xa(t,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Or(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,Or(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Or(e,t)}buildRequest(){let e={requestUri:pS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rr(t)}return e}};var Ts=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var As=class extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Wh=(()=>{class n extends As{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Es._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})(),Kh=(()=>{class n extends As{constructor(){super("github.com")}static credential(t){return Es._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com";return n})();var xs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return y(this,null,function*(){let o=yield Fr._fromIdTokenResponse(e,i,r),s=j_(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return y(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=j_(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function j_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var kh=class n extends Rt{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function hy(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(n,o,e,i):o})}function gS(n,e,t=!1){return y(this,null,function*(){let i=yield ys(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return xs._forOperation(n,"link",i)})}function bS(n,e,t=!1){return y(this,null,function*(){let{auth:i}=n;if(rn(i.app))return Promise.reject(Oi(i));let r="reauthenticate";try{let o=yield ys(n,hy(i,r,e,n),t);Q(o.idToken,i,"internal-error");let s=Bh(o.idToken);Q(s,i,"internal-error");let{sub:c}=s;return Q(n.uid===c,i,"user-mismatch"),xs._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&sn(i,"user-mismatch"),o}})}function vS(n,e,t=!1){return y(this,null,function*(){if(rn(n.app))return Promise.reject(Oi(n));let i="signIn",r=yield hy(n,i,e),o=yield xs._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function Nc(n,e,t,i){return Ve(n).onIdTokenChanged(e,t,i)}function Qh(n,e,t){return Ve(n).beforeAuthStateChanged(e,t)}function Mc(n,e,t,i){return Ve(n).onAuthStateChanged(e,t,i)}function Yh(n){return Ve(n).signOut()}var xc="__sak";var Cc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function _S(){let n=qe();return $h(n)||Dc(n)}var yS=1e3,wS=10,IS=(()=>{class n extends Cc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_S()&&sS(),this.fallbackToPolling=cy(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);oS()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,wS):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},yS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return y(this,null,function*(){yield jn(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return y(this,null,function*(){let i=yield jn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return y(this,null,function*(){yield jn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),fy=IS;var ES=(()=>{class n extends Cc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Jh=ES;function TS(n){return Promise.all(n.map(e=>y(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var AS=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return y(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(f=>y(this,null,function*(){return f(i.origin,s)})),d=yield TS(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Xh(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Rh=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return y(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let d=Xh("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(p){let _=p;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function on(){return window}function xS(n){on().location.href=n}function my(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function CS(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function SS(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kS(){return my()?self:null}var py="firebaseLocalStorageDb",RS=1,Sc="firebaseLocalStorage",gy="fbase_key",Vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Oc(n,e){return n.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function DS(){let n=indexedDB.deleteDatabase(py);return new Vi(n).toPromise()}function Dh(){let n=indexedDB.open(py,RS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Sc,{keyPath:gy})}catch(r){t(r)}}),n.addEventListener("success",()=>y(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Sc)?e(i):(i.close(),yield DS(),e(yield Dh()))}))})}function B_(n,e,t){return y(this,null,function*(){let i=Oc(n,!0).put({[gy]:e,value:t});return new Vi(i).toPromise()})}function PS(n,e){return y(this,null,function*(){let t=Oc(n,!1).get(e),i=yield new Vi(t).toPromise();return i===void 0?null:i.value})}function z_(n,e){let t=Oc(n,!0).delete(e);return new Vi(t).toPromise()}var NS=800,MS=3,OS=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield Dh(),this.db)})}_withRetries(t){return y(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>MS)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return my()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=AS._getInstance(kS()),this.receiver._subscribe("keyChanged",(t,i)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,i;if(this.activeServiceWorker=yield CS(),!this.activeServiceWorker)return;this.sender=new Rh(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||SS()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Dh();return yield B_(t,xc,"1"),yield z_(t,xc),!0}catch{}return!1})}_withPendingWrite(t){return y(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>B_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return y(this,null,function*(){let i=yield this._withRetries(r=>PS(r,t));return this.localCache[t]=i,i})}_remove(t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>z_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return y(this,null,function*(){let t=yield this._withRetries(o=>{let s=Oc(o,!1).getAll();return new Vi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),NS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),by=OS;var LF=uy("rcb"),UF=new Fi(3e4,6e4);function vy(n,e){return e?Cn(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Cs=class extends Is{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Or(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Or(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Or(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function FS(n){return vS(n.auth,new Cs(n),n.bypassAuthState)}function VS(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),bS(t,new Cs(n),n.bypassAuthState)}function LS(n){return y(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),gS(t,new Cs(n),n.bypassAuthState)})}var kc=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FS;case"linkViaPopup":case"linkViaRedirect":return LS;case"reauthViaPopup":case"reauthViaRedirect":return VS;default:sn(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var US=new Fi(2e3,1e4);function Zh(n,e,t){return y(this,null,function*(){if(rn(n.app))return Promise.reject(Wt(n,"operation-not-supported-in-this-environment"));let i=Pc(n);GC(n,e,Ts);let r=vy(i,t);return new jS(i,"signInViaPopup",e,r).executeNotNull()})}var jS=(()=>{class n extends kc{constructor(t,i,r,o,s){super(t,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return y(this,null,function*(){let t=yield this.execute();return Q(t,this.auth,"internal-error"),t})}onExecution(){return y(this,null,function*(){Sn(this.filter.length===1,"Popup operations only handle one event");let t=Xh();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,US.get())};t()}}n.currentPopupAction=null;return n})(),BS="pendingRedirect",_c=new Map,Ph=class n extends kc{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return y(this,null,function*(){let e=_c.get(this.auth._key());if(!e){try{let i=(yield zS(this.resolver,this.auth))?yield jn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return jn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,jn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function zS(n,e){return y(this,null,function*(){let t=GS(e),i=qS(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function $S(n,e){_c.set(n._key(),e)}function qS(n){return Cn(n._redirectPersistence)}function GS(n){return vc(BS,n.config.apiKey,n.name)}function HS(n,e,t=!1){return y(this,null,function*(){if(rn(n.app))return Promise.reject(Oi(n));let i=Pc(n),r=vy(i,e),s=yield new Ph(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var WS=10*60*1e3,Nh=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!_y(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Wt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WS&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}};function $_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _y({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function KS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _y(n);default:return!1}}function QS(t){return y(this,arguments,function*(n,e={}){return Vr(n,"GET","/v1/projects",e)})}var YS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JS=/^https?/;function XS(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield QS(n);for(let t of e)try{if(ZS(t))return}catch{}sn(n,"unauthorized-domain")})}function ZS(n){let e=Ih(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!JS.test(t))return!1;if(YS.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var ek=new Fi(3e4,6e4);function q_(){let n=on().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tk(n){return new Promise((e,t)=>{var i,r,o;function s(){q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q_(),t(Wt(n,"network-request-failed"))},timeout:ek.get()})}if(!((r=(i=on().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=on().gapi)===null||o===void 0)&&o.load)s();else{let c=uy("iframefcb");return on()[c]=()=>{gapi.load?s():t(Wt(n,"network-request-failed"))},uS(`${dS()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw yc=null,e})}var yc=null;function nk(n){return yc=yc||tk(n),yc}var ik=new Fi(5e3,15e3),rk="__/auth/iframe",ok="emulator/auth/iframe",sk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ak=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ck(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Lh(e,ok):`https://${n.config.authDomain}/${rk}`,i={apiKey:e.apiKey,appName:n.name,v:Jn},r=ak.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Rr(i).slice(1)}`}function lk(n){return y(this,null,function*(){let e=yield nk(n),t=on().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:ck(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sk,dontclear:!0},i=>new Promise((r,o)=>y(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Wt(n,"network-request-failed"),c=on().setTimeout(()=>{o(s)},ik.get());function l(){on().clearTimeout(c),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var uk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dk=500,hk=600,fk="_blank",mk="http://localhost",Rc=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function pk(n,e,t,i=dk,r=hk){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",l=Object.assign(Object.assign({},uk),{width:i.toString(),height:r.toString(),top:o,left:s}),d=qe().toLowerCase();t&&(c=iy(d)?fk:t),ny(d)&&(e=e||mk,l.scrollbars="yes");let f=Object.entries(l).reduce((_,[x,R])=>`${_}${x}=${R},`,"");if(rS(d)&&c!=="_self")return gk(e||"",c),new Rc(null);let p=window.open(e||"",c,f);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new Rc(p)}function gk(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var bk="__/auth/handler",vk="emulator/auth/handler",_k=encodeURIComponent("fac");function G_(n,e,t,i,r,o){return y(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Jn,eventId:r};if(e instanceof Ts){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",b_(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof As){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield n._getAppCheckToken(),d=l?`#${_k}=${encodeURIComponent(l)}`:"";return`${yk(n)}?${Rr(c).slice(1)}${d}`})}function yk({config:n}){return n.emulator?Lh(n,vk):`https://${n.authDomain}/${bk}`}var wh="webStorageSupport",Mh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jh,this._completeRedirectFn=HS,this._overrideRedirectResult=$S}_openPopup(e,t,i,r){return y(this,null,function*(){var o;Sn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield G_(e,t,i,Ih(),r);return pk(e,s,Xh())})}_openRedirect(e,t,i,r){return y(this,null,function*(){yield this._originValidation(e);let o=yield G_(e,t,i,Ih(),r);return xS(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Sn(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return y(this,null,function*(){let t=yield lk(e),i=new Nh(e);return t.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wh,{type:wh},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[wh];s!==void 0&&t(!!s),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cy()||$h()||Dc()}},yy=Mh;var H_="@firebase/auth",W_="1.7.5";var Oh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(n){Yn(new Lt("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ly(n)},d=new Sh(i,r,o,l);return hS(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Yn(new Lt("auth-internal",e=>{let t=Pc(e.getProvider("auth").getImmediate());return(i=>new Oh(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(H_,W_,wk(n)),Ge(H_,W_,"esm2017")}var Ek=5*60,Tk=th("authIdTokenMaxAge")||Ek,K_=null,Ak=n=>e=>y(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Tk)return;let r=t?.token;K_!==r&&(K_=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function ef(n=Dr()){let e=gs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Gh(n,{popupRedirectResolver:yy,persistence:[by,fy,Jh]}),i=th("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=Ak(o.toString());Qh(t,s,()=>s(t.currentUser)),Nc(t,c=>s(c))}}let r=Zd("auth");return r&&Hh(t,`http://${r}`),t}function xk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lS({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=Wt("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",xk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");function Iy(n){return new Nt(function(e){var t=Mc(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Ey="auth",Li=class{constructor(e){return e}},Ss=class{constructor(){return bs(Ey)}};var tf=new q("angularfire2.auth-instances");function gR(n,e){let t=mc(Ey,n,e);return t&&new Li(t)}function bR(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Li(i)}}var vR={provide:Ss,deps:[[new vt,tf]]},_R={provide:Li,useFactory:gR,deps:[[new vt,tf],An]};function Ty(n,...e){return Ge("angularfire",Ni.full,"auth"),At([_R,vR,{provide:tf,useFactory:bR(n),multi:!0,deps:[J,It,Mr,Mi,[new vt,Nr],...e]}])}var Ay=rt(Iy,!0);var xy=rt(ef,!0);var nf=rt(Zh,!0);var Cy=rt(Yh,!0);var an=(()=>{class n{auth;initialized=!1;user=null;constructor(t,i){this.auth=t,Ay(t).subscribe(r=>{this.user=r,this.initialized=!0,r?i.navigateByUrl("/"):i.navigateByUrl("/sign-in")})}isInitialized(){return this.initialized}getPrincipal(){return this.user}signInWithGoogle(){nf(this.auth,new Wh)}signInWithGitHub(){nf(this.auth,new Kh)}signOut(){Cy(this.auth)}getPrincipalEmail(){return this.user?.email??this.user?.providerData?.at(0)?.email}static \u0275fac=function(i){return new(i||n)(F(Li),F(xr))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sy=(()=>{class n{authService;constructor(t,i){this.authService=t,i.setTitle("Sign In - To-do List App")}static \u0275fac=function(i){return new(i||n)(P(an),P(qn))};static \u0275cmp=xe({type:n,selectors:[["app-sign-in"]],standalone:!0,features:[Se],decls:13,vars:0,consts:[[1,"h-dvh","flex","justify-center","items-center"],[1,"text-center","p-9","rounded","border","border-solid","border-gray-300"],[1,"!text-3xl"],[1,"mb-5"],[1,"grid","gap-3"],["mat-stroked-button","",3,"click"],["mat-stroked-button","",1,"!text-black",3,"click"]],template:function(i,r){i&1&&(G(0,"div",0)(1,"section",1)(2,"h1",2),ze(3,"To-do List App"),K(),G(4,"div",3),ze(5," Welcome to the To-do List App! "),de(6,"br"),ze(7," Please sign in to continue "),K(),G(8,"div",4)(9,"button",5),ge("click",function(){return r.authService.signInWithGoogle()}),ze(10,"Sign in with Google"),K(),G(11,"button",6),ge("click",function(){return r.authService.signInWithGitHub()}),ze(12,"Sign in with GitHub"),K()()()())},dependencies:[kr]})}return n})();var wR=["*"],Vc;function IR(){if(Vc===void 0&&(Vc=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Vc=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Vc}function ks(n){return IR()?.createHTML(n)||n}function ky(n){return Error(`Unable to find icon with the name "${n}"`)}function ER(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Ry(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Dy(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var kn=class{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},TR=(()=>{let e=class e{constructor(i,r,o,s){this._httpClient=i,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,r,o){return this.addSvgIconInNamespace("",i,r,o)}addSvgIconLiteral(i,r,o){return this.addSvgIconLiteralInNamespace("",i,r,o)}addSvgIconInNamespace(i,r,o,s){return this._addSvgIconConfig(i,r,new kn(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,o,s){let c=this._sanitizer.sanitize(xt.HTML,o);if(!c)throw Dy(o);let l=ks(c);return this._addSvgIconConfig(i,r,new kn("",l,s))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,o){return this._addSvgIconSetConfig(i,new kn(r,null,o))}addSvgIconSetLiteralInNamespace(i,r,o){let s=this._sanitizer.sanitize(xt.HTML,r);if(!s)throw Dy(r);let c=ks(s);return this._addSvgIconSetConfig(i,new kn("",c,o))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(xt.RESOURCE_URL,i);if(!r)throw Ry(i);let o=this._cachedIconsByUrl.get(r);return o?B(Lc(o)):this._loadSvgIconFromConfig(new kn(i,null)).pipe(be(s=>this._cachedIconsByUrl.set(r,s)),z(s=>Lc(s)))}getNamedSvgIcon(i,r=""){let o=Py(r,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(i,c):bn(ky(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?B(Lc(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(z(r=>Lc(r)))}_getSvgFromIconSetConfigs(i,r){let o=this._extractIconWithNameFromAnySet(i,r);if(o)return B(o);let s=r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Bn(l=>{let f=`Loading icon set URL: ${this._sanitizer.sanitize(xt.RESOURCE_URL,c.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(f)),B(null)})));return Ca(s).pipe(z(()=>{let c=this._extractIconWithNameFromAnySet(i,r);if(!c)throw ky(i);return c}))}_extractIconWithNameFromAnySet(i,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let c=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(c,i,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(be(r=>i.svgText=r),z(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?B(null):this._fetchIcon(i).pipe(be(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,o){let s=i.querySelector(`[id="${r}"]`);if(!s)return null;let c=s.cloneNode(!0);if(c.removeAttribute("id"),c.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(c,o);if(c.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(c),o);let l=this._svgElementFromString(ks("<svg></svg>"));return l.appendChild(c),this._setSvgAttributes(l,o)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let r=this._svgElementFromString(ks("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:c,value:l}=o[s];c!=="id"&&r.setAttribute(c,l)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw ER();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let c=this._sanitizer.sanitize(xt.RESOURCE_URL,r);if(!c)throw Ry(r);let l=this._inProgressUrlFetches.get(c);if(l)return l;let d=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(z(f=>ks(f)),pi(()=>this._inProgressUrlFetches.delete(c)),Wg());return this._inProgressUrlFetches.set(c,d),d}_addSvgIconConfig(i,r,o){return this._svgIconConfigs.set(Py(i,r),o),this}_addSvgIconSetConfig(i,r){let o=this._iconSetConfigs.get(i);return o?o.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,i);if(s)return AR(s)?new kn(s.url,null,s.options):new kn(s,null)}}};e.\u0275fac=function(r){return new(r||e)(F(Hb,8),F(Qu),F(fe,8),F(bi))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Lc(n){return n.cloneNode(!0)}function Py(n,e){return n+":"+e}function AR(n){return!!(n.url&&n.options)}var xR=new q("MAT_ICON_DEFAULT_OPTIONS"),CR=new q("mat-icon-location",{providedIn:"root",factory:SR});function SR(){let n=V(fe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var Ny=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kR=Ny.map(n=>`[${n}]`).join(", "),RR=/^url\(['"]?#(.*?)['"]?\)$/,Uc=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,o,s,c,l){this._elementRef=i,this._iconRegistry=r,this._location=s,this._errorHandler=c,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=fi.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=i.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),r.forEach(o=>i.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(c=>{s.setAttribute(c.name,`url('${i}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(kR),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Ny.forEach(c=>{let l=r[s],d=l.getAttribute(c),f=d?d.match(RR):null;if(f){let p=o.get(l);p||(p=[],o.set(l,p)),p.push({name:c,value:f[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,o]=this._splitIconName(i);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Xe(1)).subscribe(s=>this._setSvgElement(s),s=>{let c=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(c))})}}};e.\u0275fac=function(r){return new(r||e)(P(ve),P(TR),ar("aria-hidden"),P(CR),P(bi),P(xR,8))},e.\u0275cmp=xe({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(dt("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),dr(o.color?"mat-"+o.color:""),Ce("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Qe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[qt,Se],ngContentSelectors:wR,decls:1,vars:0,template:function(r,o){r&1&&(Gt(),Me(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=e;return n})();var DR=["profilePic"];function PR(n,e){if(n&1){let t=Xt();G(0,"div",7),ge("click",function(r){return Ze(t),et(r.stopPropagation())}),G(1,"div",8)(2,"strong"),ze(3),K(),G(4,"div"),ze(5),K()(),G(6,"button",9),ge("click",function(){Ze(t);let r=nt();return et(r.authService.signOut())}),ze(7,"Sign Out"),K()()}if(n&2){let t,i=nt();ae(3),Lo((t=i.authService.getPrincipal())==null?null:t.displayName),ae(2),Lo(i.authService.getPrincipalEmail())}}var My=(()=>{class n{authService;profilePicRef;isMenuVisible=!1;constructor(t){this.authService=t}ngAfterViewInit(){this.profilePicRef.nativeElement.style.backgroundImage=`url('${this.authService.getPrincipal()?.photoURL}')`}onDocumentClick(t){this.isMenuVisible=!1}static \u0275fac=function(i){return new(i||n)(P(an))};static \u0275cmp=xe({type:n,selectors:[["app-app-bar"]],viewQuery:function(i,r){if(i&1&&_t(DR,5),i&2){let o;Oe(o=Fe())&&(r.profilePicRef=o.first)}},hostBindings:function(i,r){i&1&&ge("click",function(s){return r.onDocumentClick(s)},!1,lb)},standalone:!0,features:[Se],decls:8,vars:1,consts:[["profilePic",""],[1,"p-2","border-0","flex","justify-between","h-[50px]","items-center","border-b","border-solid","border-b-gray-300"],[1,"flex","gap-1","items-center"],["fontIcon","task_alt",1,"text-sky-500","text-4xl","!w-[40px]","!h-[40px]"],[1,"!text-3xl","!m-0","select-none"],[1,"rounded-full","w-[45px]","h-[45px]","bg-contain","cursor-pointer","border","border-gray-300","border-solid",3,"click"],["class",`flex flex-col items-center
fixed right-0 border border-solid gap-2 pb-2
border-gray-300 rounded-b`,3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","fixed","right-0","border","border-solid","gap-2","pb-2","border-gray-300","rounded-b",3,"click"],[1,"text-center","border-0","border-b","border-solid","border-gray-300","p-2","px-8"],["mat-stroked-button","",3,"click"]],template:function(i,r){if(i&1){let o=Xt();G(0,"header",1)(1,"div",2),de(2,"mat-icon",3),G(3,"h1",4),ze(4,"To-do List App"),K()(),G(5,"div",5,0),ge("click",function(c){return Ze(o),c.stopPropagation(),et(r.isMenuVisible=!0)}),K()(),Ne(7,PR,8,2,"div",6)}i&2&&(ae(7),Be("ngIf",r.isMenuVisible))},dependencies:[Uc,kr,Fa]})}return n})();var zy=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(P(Pa),P(ve))},e.\u0275dir=ue({type:e});let n=e;return n})(),NR=(()=>{let e=class e extends zy{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=sr(e)))(o||e)}})(),e.\u0275dir=ue({type:e,features:[$t]});let n=e;return n})(),Jc=new q("");var MR={provide:Jc,useExisting:gi(()=>Xc),multi:!0};function OR(){let n=mr()?mr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var FR=new q(""),Xc=(()=>{let e=class e extends zy{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!OR())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(P(Pa),P(ve),P(FR,8))},e.\u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ge("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[Ct([MR]),$t]});let n=e;return n})();function Zn(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function $y(n){return n!=null&&typeof n.length=="number"}var Os=new q(""),af=new q(""),VR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bc=class{static min(e){return LR(e)}static max(e){return UR(e)}static required(e){return jR(e)}static requiredTrue(e){return BR(e)}static email(e){return zR(e)}static minLength(e){return $R(e)}static maxLength(e){return qR(e)}static pattern(e){return GR(e)}static nullValidator(e){return qy(e)}static compose(e){return Yy(e)}static composeAsync(e){return Jy(e)}};function LR(n){return e=>{if(Zn(e.value)||Zn(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function UR(n){return e=>{if(Zn(e.value)||Zn(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function jR(n){return Zn(n.value)?{required:!0}:null}function BR(n){return n.value===!0?null:{required:!0}}function zR(n){return Zn(n.value)||VR.test(n.value)?null:{email:!0}}function $R(n){return e=>Zn(e.value)||!$y(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function qR(n){return e=>$y(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function GR(n){if(!n)return qy;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Zn(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function qy(n){return null}function Gy(n){return n!=null}function Hy(n){return Ma(n)?lt(n):n}function Wy(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function Ky(n,e){return e.map(t=>t(n))}function HR(n){return!n.validate}function Qy(n){return n.map(e=>HR(e)?e:t=>e.validate(t))}function Yy(n){if(!n)return null;let e=n.filter(Gy);return e.length==0?null:function(t){return Wy(Ky(t,e))}}function cf(n){return n!=null?Yy(Qy(n)):null}function Jy(n){if(!n)return null;let e=n.filter(Gy);return e.length==0?null:function(t){let i=Ky(t,e).map(Hy);return Ca(i).pipe(z(Wy))}}function lf(n){return n!=null?Jy(Qy(n)):null}function Oy(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Xy(n){return n._rawValidators}function Zy(n){return n._rawAsyncValidators}function rf(n){return n?Array.isArray(n)?n:[n]:[]}function zc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fy(n,e){let t=rf(e);return rf(n).forEach(r=>{zc(t,r)||t.push(r)}),t}function Vy(n,e){return rf(e).filter(t=>!zc(n,t))}var $c=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ei=class extends $c{get formDirective(){return null}get path(){return null}},Ui=class extends $c{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},WR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uL=he(N({},WR),{"[class.ng-submitted]":"isSubmitted"}),ew=(()=>{let e=class e extends qc{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(Ui,2))},e.\u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[$t]});let n=e;return n})(),tw=(()=>{let e=class e extends qc{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(ei,10))},e.\u0275dir=ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[$t]});let n=e;return n})();var Rs="VALID",jc="INVALID",Lr="PENDING",Ds="DISABLED",ti=class{},Gc=class extends ti{constructor(e,t){super(),this.value=e,this.source=t}},Ns=class extends ti{constructor(e,t){super(),this.pristine=e,this.source=t}},Ms=class extends ti{constructor(e,t){super(),this.touched=e,this.source=t}},Ur=class extends ti{constructor(e,t){super(),this.status=e,this.source=t}},of=class extends ti{constructor(e){super(),this.source=e}},sf=class extends ti{constructor(e){super(),this.source=e}};function nw(n){return(Zc(n)?n.validators:n)||null}function KR(n){return Array.isArray(n)?cf(n):n||null}function iw(n,e){return(Zc(e)?e.asyncValidators:n)||null}function QR(n){return Array.isArray(n)?lf(n):n||null}function Zc(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function YR(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new pe(1e3,"");if(!i[t])throw new pe(1001,"")}function JR(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new pe(1002,"")})}var Hc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=_n(()=>this.statusReactive()),this.statusReactive=ur(void 0),this._pristine=_n(()=>this.pristineReactive()),this.pristineReactive=ur(!0),this._touched=_n(()=>this.touchedReactive()),this.touchedReactive=ur(!1),this._events=new Ee,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(e){yn(()=>this.statusReactive.set(e))}get valid(){return this.status===Rs}get invalid(){return this.status===jc}get pending(){return this.status==Lr}get disabled(){return this.status===Ds}get enabled(){return this.status!==Ds}get pristine(){return yn(this.pristineReactive)}set pristine(e){yn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(e){yn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Fy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vy(e,this._rawAsyncValidators))}hasValidator(e){return zc(this._rawValidators,e)}hasAsyncValidator(e){return zc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ms(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ms(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ns(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ns(!0,i))}markAsPending(e={}){this.status=Lr;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ur(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ds,this.errors=null,this._forEachChild(r=>{r.disable(he(N({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gc(this.value,i)),this._events.next(new Ur(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rs,this._forEachChild(i=>{i.enable(he(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rs||this.status===Lr)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gc(this.value,t)),this._events.next(new Ur(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ds:Rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Lr,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Hy(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ur(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Ds:this.errors?jc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lr)?Lr:this._anyControlsHaveStatus(jc)?jc:Rs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Ns(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ms(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QR(this._rawAsyncValidators)}},Wc=class extends Hc{constructor(e,t,i){super(nw(t),iw(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){JR(this,!0,e),Object.keys(e).forEach(i=>{YR(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var el=new q("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function XR(n,e){return[...e.path,n]}function Kc(n,e,t=uf){df(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),eD(n,e),nD(n,e),tD(n,e),ZR(n,e)}function Ly(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Yc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZR(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function df(n,e){let t=Xy(n);e.validator!==null?n.setValidators(Oy(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Zy(n);e.asyncValidator!==null?n.setAsyncValidators(Oy(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Qc(e._rawValidators,r),Qc(e._rawAsyncValidators,r)}function Yc(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Xy(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=Zy(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Qc(e._rawValidators,i),Qc(e._rawAsyncValidators,i),t}function eD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rw(n,e)})}function tD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rw(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function rw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nD(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ow(n,e){n==null,df(n,e)}function iD(n,e){return Yc(n,e)}function rD(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function oD(n){return Object.getPrototypeOf(n.constructor)===NR}function sw(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function sD(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Xc?t=o:oD(o)?i=o:r=o}),r||i||t||null}function aD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var cD={provide:ei,useExisting:gi(()=>Fs)},Ps=Promise.resolve(),Fs=(()=>{let e=class e extends ei{get submitted(){return yn(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=_n(()=>this.submittedReactive()),this.submittedReactive=ur(!1),this._directives=new Set,this.ngSubmit=new Ke,this.form=new Wc({},cf(i),lf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Ps.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Kc(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Ps.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Ps.then(()=>{let r=this._findContainer(i.path),o=new Wc({});ow(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Ps.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Ps.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),sw(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(P(Os,10),P(af,10),P(el,8))},e.\u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&ge("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ct([cD]),$t]});let n=e;return n})();function Uy(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jy(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var aw=class extends Hc{constructor(e=null,t,i){super(nw(t),iw(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(jy(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Uy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Uy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lD=n=>n instanceof aw;var uD={provide:Ui,useExisting:gi(()=>hf)},By=Promise.resolve(),hf=(()=>{let e=class e extends Ui{constructor(i,r,o,s,c,l){super(),this._changeDetectorRef=c,this.callSetDisabledState=l,this.control=new aw,this._registered=!1,this.name="",this.update=new Ke,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=sD(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),rD(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){By.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Qe(r);By.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?XR(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(P(ei,9),P(Os,10),P(af,10),P(Jc,10),P(Zt,8),P(el,8))},e.\u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ct([uD]),$t,Jt]});let n=e;return n})(),cw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var dD={provide:ei,useExisting:gi(()=>ff)},ff=(()=>{let e=class e extends ei{get submitted(){return yn(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=_n(()=>this._submittedReactive()),this._submittedReactive=ur(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Kc(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Ly(i.control||null,i,!1),aD(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),sw(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new of(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new sf(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Ly(r||null,i),lD(o)&&(Kc(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);ow(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&iD(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){df(this.form,this),this._oldForm&&Yc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(P(Os,10),P(af,10),P(el,8))},e.\u0275dir=ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&ge("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ct([dD]),$t,Jt]});let n=e;return n})();var hD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({});let n=e;return n})();var lw=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:el,useValue:i.callSetDisabledState??uf}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({imports:[hD]});let n=e;return n})();var fD=["input"],mD=["label"],pD=["*"],gD=new q("mat-checkbox-default-options",{providedIn:"root",factory:hw});function hw(){return{color:"accent",clickAction:"check-indeterminate"}}var ht=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(ht||{}),bD={provide:Jc,useExisting:gi(()=>pf),multi:!0},mf=class{},vD=0,dw=hw(),pf=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let r=new mf;return r.source=this,r.checked=i,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,o,s,c,l){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=c,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ke,this.indeterminateChange=new Ke,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ht.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||dw,this.color=this._options.color||dw.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++vD}`}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let r=i!=this._indeterminate;this._indeterminate=i,r&&(this._indeterminate?this._transitionCheckState(ht.Indeterminate):this._transitionCheckState(this.checked?ht.Checked:ht.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ht.Checked:ht.Unchecked),this._emitChangeEvent()):!this.disabled&&i==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,r){if(this._animationMode==="NoopAnimations")return"";switch(i){case ht.Init:if(r===ht.Checked)return this._animationClasses.uncheckedToChecked;if(r==ht.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ht.Unchecked:return r===ht.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ht.Checked:return r===ht.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ht.Indeterminate:return r===ht.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let r=this._inputElement;r&&(r.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(P(ve),P(Zt),P(J),ar("tabindex"),P(zt,8),P(gD,8))},e.\u0275cmp=xe({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(_t(fD,5),_t(mD,5),_t(ac,5)),r&2){let s;Oe(s=Fe())&&(o._inputElement=s.first),Oe(s=Fe())&&(o._labelElement=s.first),Oe(s=Fe())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,o){r&2&&(vi("id",o.id),dt("tabindex",null)("aria-label",null)("aria-labelledby",null),dr(o.color?"mat-"+o.color:"mat-accent"),Ce("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Qe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Qe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Nu(i)],color:"color",checked:[2,"checked","checked",Qe],disabled:[2,"disabled","disabled",Qe],indeterminate:[2,"indeterminate","indeterminate",Qe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Ct([bD,{provide:Os,useExisting:e,multi:!0}]),qt,Jt,Se],ngContentSelectors:pD,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let s=Xt();Gt(),G(0,"div",3),ge("click",function(l){return Ze(s),et(o._preventBubblingFromLabel(l))}),G(1,"div",4,0)(3,"div",5),ge("click",function(){return Ze(s),et(o._onTouchTargetClick())}),K(),G(4,"input",6,1),ge("blur",function(){return Ze(s),et(o._onBlur())})("click",function(){return Ze(s),et(o._onInputClick())})("change",function(l){return Ze(s),et(o._onInteractionEvent(l))}),K(),de(6,"div",7),G(7,"div",8),Jg(),G(8,"svg",9),de(9,"path",10),K(),Xg(),de(10,"div",11),K(),de(11,"div",12),K(),G(12,"label",13,2),Me(14),K()()}if(r&2){let s=yi(2);Be("labelPosition",o.labelPosition),ae(4),Ce("mdc-checkbox--selected",o.checked),Be("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled)("id",o.inputId)("required",o.required)("tabIndex",o.disabled?-1:o.tabIndex),dt("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("name",o.name)("value",o.value),ae(7),Be("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),ae(),Be("for",o.inputId)}},dependencies:[ac,o_],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();var gf=class{constructor(e){this._box=e,this._destroyed=new Ee,this._resizeSubject=new Ee,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Nt(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(We(t=>t.some(i=>i.target===e)),Kg({bufferSize:1,refCount:!0}),Bt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},fw=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=V(J),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new gf(o)),this._observers.get(o).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var _D=["notch"],yD=["matFormFieldNotchedOutline",""],wD=["*"],ID=["textField"],ED=["iconPrefixContainer"],TD=["textPrefixContainer"],AD=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xD=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function CD(n,e){n&1&&de(0,"span",19)}function SD(n,e){if(n&1&&(G(0,"label",18),Me(1,1),Ne(2,CD,1,0,"span",19),K()),n&2){let t=nt(2);Be("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),dt("for",t._control.disableAutomaticLabeling?null:t._control.id),ae(2),tt(!t.hideRequiredMarker&&t._control.required?2:-1)}}function kD(n,e){if(n&1&&Ne(0,SD,3,5,"label",18),n&2){let t=nt();tt(t._hasFloatingLabel()?0:-1)}}function RD(n,e){n&1&&de(0,"div",5)}function DD(n,e){}function PD(n,e){if(n&1&&Ne(0,DD,0,0,"ng-template",11),n&2){nt(2);let t=yi(1);Be("ngTemplateOutlet",t)}}function ND(n,e){if(n&1&&(G(0,"div",7),Ne(1,PD,1,1,null,11),K()),n&2){let t=nt();Be("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ae(),tt(t._forceDisplayInfixLabel()?-1:1)}}function MD(n,e){n&1&&(G(0,"div",8,2),Me(2,2),K())}function OD(n,e){n&1&&(G(0,"div",9,3),Me(2,3),K())}function FD(n,e){}function VD(n,e){if(n&1&&Ne(0,FD,0,0,"ng-template",11),n&2){nt();let t=yi(1);Be("ngTemplateOutlet",t)}}function LD(n,e){n&1&&(G(0,"div",12),Me(1,4),K())}function UD(n,e){n&1&&(G(0,"div",13),Me(1,5),K())}function jD(n,e){n&1&&de(0,"div",14)}function BD(n,e){if(n&1&&(G(0,"div",16),Me(1,6),K()),n&2){let t=nt();Be("@transitionMessages",t._subscriptAnimationState)}}function zD(n,e){if(n&1&&(G(0,"mat-hint",20),ze(1),K()),n&2){let t=nt(2);Be("id",t._hintLabelId),ae(),Lo(t.hintLabel)}}function $D(n,e){if(n&1&&(G(0,"div",17),Ne(1,zD,2,2,"mat-hint",20),Me(2,7),de(3,"div",21),Me(4,8),K()),n&2){let t=nt();Be("@transitionMessages",t._subscriptAnimationState),ae(),tt(t.hintLabel?1:-1)}}var nl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e,selectors:[["mat-label"]],standalone:!0});let n=e;return n})();var qD=new q("MatError");var GD=0,mw=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${GD++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(vi("id",o.id),dt("align",null),Ce("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=e;return n})(),HD=new q("MatPrefix");var WD=new q("MatSuffix");var Iw=new q("FloatingLabelParent"),pw=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=V(fw),this._ngZone=V(J),this._parent=V(Iw),this._resizeSubscription=new fi}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return KD(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(P(ve))},e.\u0275dir=ue({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Ce("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=e;return n})();function KD(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var gw="mdc-line-ripple--active",tl="mdc-line-ripple--deactivating",bw=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(tl);o.propertyName==="opacity"&&c&&s.remove(gw,tl)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(tl),i.add(gw)}deactivate(){this._elementRef.nativeElement.classList.add(tl)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(P(ve),P(J))},e.\u0275dir=ue({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=e;return n})(),vw=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(P(ve),P(J))},e.\u0275cmp=xe({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&_t(_D,5),r&2){let s;Oe(s=Fe())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Ce("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Se],attrs:yD,ngContentSelectors:wD,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(Gt(),de(0,"div",1),G(1,"div",2,0),Me(3),K(),de(4,"div",3))},encapsulation:2,changeDetection:0});let n=e;return n})(),QD={transitionMessages:Vb("transitionMessages",[Ub("enter",Fu({opacity:1,transform:"translateY(0%)"})),jb("void => enter",[Fu({opacity:0,transform:"translateY(-5px)"}),Lb("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},bf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e});let n=e;return n})();var vf=new q("MatFormField"),YD=new q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_w=0,yw="fill",JD="auto",ww="fixed",XD="translateY(-50%)",Ew=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=xi(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||JD}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,o=i||this._defaults?.appearance||yw;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||ww}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||ww}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,o,s,c,l,d,f){this._elementRef=i,this._changeDetectorRef=r,this._dir=s,this._platform=c,this._defaults=l,this._animationMode=d,this._labelChild=mb(nl),this._hideRequiredMarker=!1,this.color="primary",this._appearance=yw,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${_w++}`,this._hintLabelId=`mat-mdc-hint-${_w++}`,this._subscriptAnimationState="",this._destroyed=new Ee,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=V(It),this.getLabelId=_n(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=_n(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Bt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Do(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),hb(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Bt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+c}px`,p=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${XD} translateX(${p})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(P(ve),P(Zt),P(J),P(Wv),P($e),P(YD,8),P(zt,8),P(fe))},e.\u0275cmp=xe({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(_b(s,o._labelChild,nl,5),_i(s,bf,5),_i(s,HD,5),_i(s,WD,5),_i(s,qD,5),_i(s,mw,5)),r&2){yb();let c;Oe(c=Fe())&&(o._formFieldControl=c.first),Oe(c=Fe())&&(o._prefixChildren=c),Oe(c=Fe())&&(o._suffixChildren=c),Oe(c=Fe())&&(o._errorChildren=c),Oe(c=Fe())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(_t(ID,5),_t(ED,5),_t(TD,5),_t(pw,5),_t(vw,5),_t(bw,5)),r&2){let s;Oe(s=Fe())&&(o._textField=s.first),Oe(s=Fe())&&(o._iconPrefixContainer=s.first),Oe(s=Fe())&&(o._textPrefixContainer=s.first),Oe(s=Fe())&&(o._floatingLabel=s.first),Oe(s=Fe())&&(o._notchedOutline=s.first),Oe(s=Fe())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Ce("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ct([{provide:vf,useExisting:e},{provide:Iw,useExisting:e}]),Se],ngContentSelectors:xD,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Xt();Gt(AD),Ne(0,kD,1,1,"ng-template",null,0,Tb),G(2,"div",4,1),ge("click",function(l){return Ze(s),et(o._control.onContainerClick(l))}),Ne(4,RD,1,0,"div",5),G(5,"div",6),Ne(6,ND,2,2,"div",7)(7,MD,3,0,"div",8)(8,OD,3,0,"div",9),G(9,"div",10),Ne(10,VD,1,1,null,11),Me(11),K(),Ne(12,LD,2,0,"div",12)(13,UD,2,0,"div",13),K(),Ne(14,jD,1,0,"div",14),K(),G(15,"div",15),Ne(16,BD,2,1,"div",16)(17,$D,5,2,"div",17),K()}if(r&2){let s;ae(2),Ce("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),ae(2),tt(!o._hasOutline()&&!o._control.disabled?4:-1),ae(2),tt(o._hasOutline()?6:-1),ae(),tt(o._hasIconPrefix?7:-1),ae(),tt(o._hasTextPrefix?8:-1),ae(2),tt(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),ae(2),tt(o._hasTextSuffix?12:-1),ae(),tt(o._hasIconSuffix?13:-1),ae(),tt(o._hasOutline()?-1:14),ae(),Ce("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),ae(),tt((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[pw,vw,Mb,bw,mw],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[QD.transitionMessages]},changeDetection:0});let n=e;return n})(),_f=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({imports:[Wn,Mu,Lv,Wn]});let n=e;return n})();var Tw=Hn({passive:!0}),Aw=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Yt;let r=tn(i),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new Ee,c="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,Tw),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,Tw)}}),s}stopMonitoring(i){let r=tn(i),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(F($e),F(J))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var xw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({});let n=e;return n})();var tP=new q("MAT_INPUT_VALUE_ACCESSOR"),nP=["button","checkbox","file","hidden","image","radio","range","reset","submit"],iP=0,Cw=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=xi(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Bc.required)??!1}set required(i){this._required=xi(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&Ld().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=xi(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,c,l,d,f,p,_){this._elementRef=i,this._platform=r,this.ngControl=o,this._autofillMonitor=f,this._ngZone=p,this._formField=_,this._uid=`mat-input-${iP++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Ee,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(M=>Ld().has(M)),this._iOSKeyupListener=M=>{let k=M.target;!k.value&&k.selectionStart===0&&k.selectionEnd===0&&(k.setSelectionRange(1,1),k.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let x=this._elementRef.nativeElement,R=x.nodeName.toLowerCase();this._inputValueAccessor=d||x,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&p.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new sc(l,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=R==="select",this._isTextarea=R==="textarea",this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){nP.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(r){return new(r||e)(P(ve),P($e),P(Ui,10),P(Fs,8),P(ff,8),P(n_),P(tP,10),P(Aw),P(J),P(vf,8))},e.\u0275dir=ue({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&ge("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(vi("id",o.id)("disabled",o.disabled)("required",o.required),dt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Ce("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Ct([{provide:bf,useExisting:e}]),Jt]});let n=e;return n})(),Sw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ae({type:e}),e.\u0275inj=Te({imports:[Wn,_f,_f,xw,Wn]});let n=e;return n})();var kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rw={};var ni,yf;(function(){var n;function e(I,g){function v(){}v.prototype=g.prototype,I.D=g.prototype,I.prototype=new v,I.prototype.constructor=I,I.C=function(w,E,A){for(var b=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)b[mn-2]=arguments[mn];return g.prototype[E].apply(w,b)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,g,v){v||(v=0);var w=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)w[E]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(E=0;16>E;++E)w[E]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=I.g[0],v=I.g[1],E=I.g[2];var A=I.g[3],b=g+(A^v&(E^A))+w[0]+3614090360&4294967295;g=v+(b<<7&4294967295|b>>>25),b=A+(E^g&(v^E))+w[1]+3905402710&4294967295,A=g+(b<<12&4294967295|b>>>20),b=E+(v^A&(g^v))+w[2]+606105819&4294967295,E=A+(b<<17&4294967295|b>>>15),b=v+(g^E&(A^g))+w[3]+3250441966&4294967295,v=E+(b<<22&4294967295|b>>>10),b=g+(A^v&(E^A))+w[4]+4118548399&4294967295,g=v+(b<<7&4294967295|b>>>25),b=A+(E^g&(v^E))+w[5]+1200080426&4294967295,A=g+(b<<12&4294967295|b>>>20),b=E+(v^A&(g^v))+w[6]+2821735955&4294967295,E=A+(b<<17&4294967295|b>>>15),b=v+(g^E&(A^g))+w[7]+4249261313&4294967295,v=E+(b<<22&4294967295|b>>>10),b=g+(A^v&(E^A))+w[8]+1770035416&4294967295,g=v+(b<<7&4294967295|b>>>25),b=A+(E^g&(v^E))+w[9]+2336552879&4294967295,A=g+(b<<12&4294967295|b>>>20),b=E+(v^A&(g^v))+w[10]+4294925233&4294967295,E=A+(b<<17&4294967295|b>>>15),b=v+(g^E&(A^g))+w[11]+2304563134&4294967295,v=E+(b<<22&4294967295|b>>>10),b=g+(A^v&(E^A))+w[12]+1804603682&4294967295,g=v+(b<<7&4294967295|b>>>25),b=A+(E^g&(v^E))+w[13]+4254626195&4294967295,A=g+(b<<12&4294967295|b>>>20),b=E+(v^A&(g^v))+w[14]+2792965006&4294967295,E=A+(b<<17&4294967295|b>>>15),b=v+(g^E&(A^g))+w[15]+1236535329&4294967295,v=E+(b<<22&4294967295|b>>>10),b=g+(E^A&(v^E))+w[1]+4129170786&4294967295,g=v+(b<<5&4294967295|b>>>27),b=A+(v^E&(g^v))+w[6]+3225465664&4294967295,A=g+(b<<9&4294967295|b>>>23),b=E+(g^v&(A^g))+w[11]+643717713&4294967295,E=A+(b<<14&4294967295|b>>>18),b=v+(A^g&(E^A))+w[0]+3921069994&4294967295,v=E+(b<<20&4294967295|b>>>12),b=g+(E^A&(v^E))+w[5]+3593408605&4294967295,g=v+(b<<5&4294967295|b>>>27),b=A+(v^E&(g^v))+w[10]+38016083&4294967295,A=g+(b<<9&4294967295|b>>>23),b=E+(g^v&(A^g))+w[15]+3634488961&4294967295,E=A+(b<<14&4294967295|b>>>18),b=v+(A^g&(E^A))+w[4]+3889429448&4294967295,v=E+(b<<20&4294967295|b>>>12),b=g+(E^A&(v^E))+w[9]+568446438&4294967295,g=v+(b<<5&4294967295|b>>>27),b=A+(v^E&(g^v))+w[14]+3275163606&4294967295,A=g+(b<<9&4294967295|b>>>23),b=E+(g^v&(A^g))+w[3]+4107603335&4294967295,E=A+(b<<14&4294967295|b>>>18),b=v+(A^g&(E^A))+w[8]+1163531501&4294967295,v=E+(b<<20&4294967295|b>>>12),b=g+(E^A&(v^E))+w[13]+2850285829&4294967295,g=v+(b<<5&4294967295|b>>>27),b=A+(v^E&(g^v))+w[2]+4243563512&4294967295,A=g+(b<<9&4294967295|b>>>23),b=E+(g^v&(A^g))+w[7]+1735328473&4294967295,E=A+(b<<14&4294967295|b>>>18),b=v+(A^g&(E^A))+w[12]+2368359562&4294967295,v=E+(b<<20&4294967295|b>>>12),b=g+(v^E^A)+w[5]+4294588738&4294967295,g=v+(b<<4&4294967295|b>>>28),b=A+(g^v^E)+w[8]+2272392833&4294967295,A=g+(b<<11&4294967295|b>>>21),b=E+(A^g^v)+w[11]+1839030562&4294967295,E=A+(b<<16&4294967295|b>>>16),b=v+(E^A^g)+w[14]+4259657740&4294967295,v=E+(b<<23&4294967295|b>>>9),b=g+(v^E^A)+w[1]+2763975236&4294967295,g=v+(b<<4&4294967295|b>>>28),b=A+(g^v^E)+w[4]+1272893353&4294967295,A=g+(b<<11&4294967295|b>>>21),b=E+(A^g^v)+w[7]+4139469664&4294967295,E=A+(b<<16&4294967295|b>>>16),b=v+(E^A^g)+w[10]+3200236656&4294967295,v=E+(b<<23&4294967295|b>>>9),b=g+(v^E^A)+w[13]+681279174&4294967295,g=v+(b<<4&4294967295|b>>>28),b=A+(g^v^E)+w[0]+3936430074&4294967295,A=g+(b<<11&4294967295|b>>>21),b=E+(A^g^v)+w[3]+3572445317&4294967295,E=A+(b<<16&4294967295|b>>>16),b=v+(E^A^g)+w[6]+76029189&4294967295,v=E+(b<<23&4294967295|b>>>9),b=g+(v^E^A)+w[9]+3654602809&4294967295,g=v+(b<<4&4294967295|b>>>28),b=A+(g^v^E)+w[12]+3873151461&4294967295,A=g+(b<<11&4294967295|b>>>21),b=E+(A^g^v)+w[15]+530742520&4294967295,E=A+(b<<16&4294967295|b>>>16),b=v+(E^A^g)+w[2]+3299628645&4294967295,v=E+(b<<23&4294967295|b>>>9),b=g+(E^(v|~A))+w[0]+4096336452&4294967295,g=v+(b<<6&4294967295|b>>>26),b=A+(v^(g|~E))+w[7]+1126891415&4294967295,A=g+(b<<10&4294967295|b>>>22),b=E+(g^(A|~v))+w[14]+2878612391&4294967295,E=A+(b<<15&4294967295|b>>>17),b=v+(A^(E|~g))+w[5]+4237533241&4294967295,v=E+(b<<21&4294967295|b>>>11),b=g+(E^(v|~A))+w[12]+1700485571&4294967295,g=v+(b<<6&4294967295|b>>>26),b=A+(v^(g|~E))+w[3]+2399980690&4294967295,A=g+(b<<10&4294967295|b>>>22),b=E+(g^(A|~v))+w[10]+4293915773&4294967295,E=A+(b<<15&4294967295|b>>>17),b=v+(A^(E|~g))+w[1]+2240044497&4294967295,v=E+(b<<21&4294967295|b>>>11),b=g+(E^(v|~A))+w[8]+1873313359&4294967295,g=v+(b<<6&4294967295|b>>>26),b=A+(v^(g|~E))+w[15]+4264355552&4294967295,A=g+(b<<10&4294967295|b>>>22),b=E+(g^(A|~v))+w[6]+2734768916&4294967295,E=A+(b<<15&4294967295|b>>>17),b=v+(A^(E|~g))+w[13]+1309151649&4294967295,v=E+(b<<21&4294967295|b>>>11),b=g+(E^(v|~A))+w[4]+4149444226&4294967295,g=v+(b<<6&4294967295|b>>>26),b=A+(v^(g|~E))+w[11]+3174756917&4294967295,A=g+(b<<10&4294967295|b>>>22),b=E+(g^(A|~v))+w[2]+718787259&4294967295,E=A+(b<<15&4294967295|b>>>17),b=v+(A^(E|~g))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(E+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+A&4294967295}i.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var v=g-this.blockSize,w=this.B,E=this.h,A=0;A<g;){if(E==0)for(;A<=v;)r(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<g;)if(w[E++]=I.charCodeAt(A++),E==this.blockSize){r(this,w),E=0;break}}else for(;A<g;)if(w[E++]=I[A++],E==this.blockSize){r(this,w),E=0;break}}this.h=E,this.o+=g},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var v=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=v&255,v/=256;for(this.u(I),I=Array(16),g=v=0;4>g;++g)for(var w=0;32>w;w+=8)I[v++]=this.g[g]>>>w&255;return I};function o(I,g){var v=c;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=g(I)}function s(I,g){this.h=g;for(var v=[],w=!0,E=I.length-1;0<=E;E--){var A=I[E]|0;w&&A==g||(v[E]=A,w=!1)}this.g=v}var c={};function l(I){return-128<=I&&128>I?o(I,function(g){return new s([g|0],0>g?-1:0)}):new s([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return k(d(-I));for(var g=[],v=1,w=0;I>=v;w++)g[w]=I/v|0,v*=4294967296;return new s(g,0)}function f(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return k(f(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(g,8)),w=p,E=0;E<I.length;E+=8){var A=Math.min(8,I.length-E),b=parseInt(I.substring(E,E+A),g);8>A?(A=d(Math.pow(g,A)),w=w.j(A).add(d(b))):(w=w.j(v),w=w.add(d(b)))}return w}var p=l(0),_=l(1),x=l(16777216);n=s.prototype,n.m=function(){if(M(this))return-k(this).m();for(var I=0,g=1,v=0;v<this.g.length;v++){var w=this.i(v);I+=(0<=w?w:4294967296+w)*g,g*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(M(this))return"-"+k(this).toString(I);for(var g=d(Math.pow(I,6)),v=this,w="";;){var E=we(v,g).g;v=H(v,E.j(g));var A=((0<v.g.length?v.g[0]:v.h)>>>0).toString(I);if(v=E,R(v))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=H(this,I),M(I)?-1:R(I)?0:1};function k(I){for(var g=I.g.length,v=[],w=0;w<g;w++)v[w]=~I.g[w];return new s(v,~I.h).add(_)}n.abs=function(){return M(this)?k(this):this},n.add=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0,E=0;E<=g;E++){var A=w+(this.i(E)&65535)+(I.i(E)&65535),b=(A>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=b>>>16,A&=65535,b&=65535,v[E]=b<<16|A}return new s(v,v[v.length-1]&-2147483648?-1:0)};function H(I,g){return I.add(k(g))}n.j=function(I){if(R(this)||R(I))return p;if(M(this))return M(I)?k(this).j(k(I)):k(k(this).j(I));if(M(I))return k(this.j(k(I)));if(0>this.l(x)&&0>I.l(x))return d(this.m()*I.m());for(var g=this.g.length+I.g.length,v=[],w=0;w<2*g;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var A=this.i(w)>>>16,b=this.i(w)&65535,mn=I.i(E)>>>16,uo=I.i(E)&65535;v[2*w+2*E]+=b*uo,Y(v,2*w+2*E),v[2*w+2*E+1]+=A*uo,Y(v,2*w+2*E+1),v[2*w+2*E+1]+=b*mn,Y(v,2*w+2*E+1),v[2*w+2*E+2]+=A*mn,Y(v,2*w+2*E+2)}for(w=0;w<g;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=g;w<2*g;w++)v[w]=0;return new s(v,0)};function Y(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function Z(I,g){this.g=I,this.h=g}function we(I,g){if(R(g))throw Error("division by zero");if(R(I))return new Z(p,p);if(M(I))return g=we(k(I),g),new Z(k(g.g),k(g.h));if(M(g))return g=we(I,k(g)),new Z(k(g.g),g.h);if(30<I.g.length){if(M(I)||M(g))throw Error("slowDivide_ only works with positive integers.");for(var v=_,w=g;0>=w.l(I);)v=pt(v),w=pt(w);var E=le(v,1),A=le(w,1);for(w=le(w,2),v=le(v,2);!R(w);){var b=A.add(w);0>=b.l(I)&&(E=E.add(v),A=b),w=le(w,1),v=le(v,1)}return g=H(I,E.j(g)),new Z(E,g)}for(E=p;0<=I.l(g);){for(v=Math.max(1,Math.floor(I.m()/g.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=d(v),b=A.j(g);M(b)||0<b.l(I);)v-=w,A=d(v),b=A.j(g);R(A)&&(A=_),E=E.add(A),I=H(I,b)}return new Z(E,I)}n.A=function(I){return we(this,I).h},n.and=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)&I.i(w);return new s(v,this.h&I.h)},n.or=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)|I.i(w);return new s(v,this.h|I.h)},n.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)^I.i(w);return new s(v,this.h^I.h)};function pt(I){for(var g=I.g.length+1,v=[],w=0;w<g;w++)v[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(v,I.h)}function le(I,g){var v=g>>5;g%=32;for(var w=I.g.length-v,E=[],A=0;A<w;A++)E[A]=0<g?I.i(A+v)>>>g|I.i(A+v+1)<<32-g:I.i(A+v);return new s(E,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,yf=Rw.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,ni=Rw.Integer=s}).apply(typeof kw<"u"?kw:typeof self<"u"?self:typeof window<"u"?window:{});var il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rn={};var wf,If,jr,Ef,Vs,rl,Tf,Af,xf;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof il=="object"&&il];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=t(this);function r(a,u){if(u)e:{var h=i;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in h))break e;h=h[T]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&e(h,a,{configurable:!0,writable:!0,value:u})}}function o(a,u){a instanceof String&&(a+="");var h=0,m=!1,T={next:function(){if(!m&&h<a.length){var C=h++;return{value:u(C,a[C]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return o(this,function(u,h){return h})}});var s=s||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function _(a,u,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,_.apply(null,arguments)}function x(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function R(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,T,C){for(var O=Array(arguments.length-2),me=2;me<arguments.length;me++)O[me-2]=arguments[me];return u.prototype[T].apply(m,O)}}function M(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function k(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let T=a.length||0,C=m.length||0;a.length=T+C;for(let O=0;O<C;O++)a[T+O]=m[O]}else a.push(m)}}class H{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Y(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function we(a){return we[" "](a),a}we[" "]=function(){};var pt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function le(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function I(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function g(a){let u={};for(let h in a)u[h]=a[h];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,u){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)a[h]=m[h];for(let C=0;C<v.length;C++)h=v[C],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function E(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function A(a){c.setTimeout(()=>{throw a},0)}function b(){var a=Kl;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class mn{constructor(){this.h=this.g=null}add(u,h){let m=uo.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var uo=new H(()=>new GI,a=>a.reset());class GI{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ho,fo=!1,Kl=new mn,Lp=()=>{let a=c.Promise.resolve(void 0);ho=()=>{a.then(HI)}};var HI=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(h){A(h)}var u=uo;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}fo=!1};function Fn(){this.s=this.s,this.C=this.C}Fn.prototype.s=!1,Fn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var WI=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function mo(a,u){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(pt){e:{try{we(u.nodeName);var T=!0;break e}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:KI[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&mo.aa.h.call(this)}}R(mo,ot);var KI={2:"touch",3:"pen",4:"mouse"};mo.prototype.h=function(){mo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var po="closure_listenable_"+(1e6*Math.random()|0),QI=0;function YI(a,u,h,m,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=T,this.key=++QI,this.da=this.fa=!1}function la(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ua(a){this.src=a,this.g={},this.h=0}ua.prototype.add=function(a,u,h,m,T){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var O=Yl(a,u,m,T);return-1<O?(u=a[O],h||(u.fa=!1)):(u=new YI(u,this.src,C,!!m,T),u.fa=h,a.push(u)),u};function Ql(a,u){var h=u.type;if(h in a.g){var m=a.g[h],T=Array.prototype.indexOf.call(m,u,void 0),C;(C=0<=T)&&Array.prototype.splice.call(m,T,1),C&&(la(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Yl(a,u,h,m){for(var T=0;T<a.length;++T){var C=a[T];if(!C.da&&C.listener==u&&C.capture==!!h&&C.ha==m)return T}return-1}var Jl="closure_lm_"+(1e6*Math.random()|0),Xl={};function Up(a,u,h,m,T){if(m&&m.once)return Bp(a,u,h,m,T);if(Array.isArray(u)){for(var C=0;C<u.length;C++)Up(a,u[C],h,m,T);return null}return h=nu(h),a&&a[po]?a.K(u,h,d(m)?!!m.capture:!!m,T):jp(a,u,h,!1,m,T)}function jp(a,u,h,m,T,C){if(!u)throw Error("Invalid event type");var O=d(T)?!!T.capture:!!T,me=eu(a);if(me||(a[Jl]=me=new ua(a)),h=me.add(u,h,m,O,C),h.proxy)return h;if(m=JI(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)WI||(T=O),T===void 0&&(T=!1),a.addEventListener(u.toString(),m,T);else if(a.attachEvent)a.attachEvent($p(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function JI(){function a(h){return u.call(a.src,a.listener,h)}let u=XI;return a}function Bp(a,u,h,m,T){if(Array.isArray(u)){for(var C=0;C<u.length;C++)Bp(a,u[C],h,m,T);return null}return h=nu(h),a&&a[po]?a.L(u,h,d(m)?!!m.capture:!!m,T):jp(a,u,h,!0,m,T)}function zp(a,u,h,m,T){if(Array.isArray(u))for(var C=0;C<u.length;C++)zp(a,u[C],h,m,T);else m=d(m)?!!m.capture:!!m,h=nu(h),a&&a[po]?(a=a.i,u=String(u).toString(),u in a.g&&(C=a.g[u],h=Yl(C,h,m,T),-1<h&&(la(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[u],a.h--)))):a&&(a=eu(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Yl(u,h,m,T)),(h=-1<a?u[a]:null)&&Zl(h))}function Zl(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[po])Ql(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent($p(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=eu(u))?(Ql(h,a),h.h==0&&(h.src=null,u[Jl]=null)):la(a)}}}function $p(a){return a in Xl?Xl[a]:Xl[a]="on"+a}function XI(a,u){if(a.da)a=!0;else{u=new mo(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&Zl(a),a=h.call(m,u)}return a}function eu(a){return a=a[Jl],a instanceof ua?a:null}var tu="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(a){return typeof a=="function"?a:(a[tu]||(a[tu]=function(u){return a.handleEvent(u)}),a[tu])}function st(){Fn.call(this),this.i=new ua(this),this.M=this,this.F=null}R(st,Fn),st.prototype[po]=!0,st.prototype.removeEventListener=function(a,u,h,m){zp(this,a,u,h,m)};function gt(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new ot(u,a);else if(u instanceof ot)u.target=u.target||a;else{var T=u;u=new ot(m,a),w(u,T)}if(T=!0,h)for(var C=h.length-1;0<=C;C--){var O=u.g=h[C];T=da(O,m,!0,u)&&T}if(O=u.g=a,T=da(O,m,!0,u)&&T,T=da(O,m,!1,u)&&T,h)for(C=0;C<h.length;C++)O=u.g=h[C],T=da(O,m,!1,u)&&T}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)la(h[m]);delete a.g[u],a.h--}}this.F=null},st.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},st.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function da(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,C=0;C<u.length;++C){var O=u[C];if(O&&!O.da&&O.capture==h){var me=O.listener,Je=O.ha||O.src;O.fa&&Ql(a.i,O),T=me.call(Je,m)!==!1&&T}}return T&&!m.defaultPrevented}function qp(a,u,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Gp(a){a.g=qp(()=>{a.g=null,a.i&&(a.i=!1,Gp(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class ZI extends Fn{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Gp(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(a){Fn.call(this),this.h=a,this.g={}}R(go,Fn);var Hp=[];function Wp(a){le(a.g,function(u,h){this.g.hasOwnProperty(h)&&Zl(u)},a),a.g={}}go.prototype.N=function(){go.aa.N.call(this),Wp(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iu=c.JSON.stringify,eE=c.JSON.parse,tE=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ru(){}ru.prototype.h=null;function Kp(a){return a.h||(a.h=a.i())}function Qp(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ou(){ot.call(this,"d")}R(ou,ot);function su(){ot.call(this,"c")}R(su,ot);var li={},Yp=null;function ha(){return Yp=Yp||new st}li.La="serverreachability";function Jp(a){ot.call(this,li.La,a)}R(Jp,ot);function vo(a){let u=ha();gt(u,new Jp(u))}li.STAT_EVENT="statevent";function Xp(a,u){ot.call(this,li.STAT_EVENT,a),this.stat=u}R(Xp,ot);function bt(a){let u=ha();gt(u,new Xp(u,a))}li.Ma="timingevent";function Zp(a,u){ot.call(this,li.Ma,a),this.size=u}R(Zp,ot);function _o(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function yo(){this.g=!0}yo.prototype.xa=function(){this.g=!1};function nE(a,u,h,m,T,C){a.info(function(){if(a.g)if(C)for(var O="",me=C.split("&"),Je=0;Je<me.length;Je++){var oe=me[Je].split("=");if(1<oe.length){var at=oe[0];oe=oe[1];var ct=at.split("_");O=2<=ct.length&&ct[1]=="type"?O+(at+"="+oe+"&"):O+(at+"=redacted&")}}else O=null;else O=C;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+u+`
`+h+`
`+O})}function iE(a,u,h,m,T,C,O){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+u+`
`+h+`
`+C+" "+O})}function Zi(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+oE(a,h)+(m?" "+m:"")})}function rE(a,u){a.info(function(){return"TIMEOUT: "+u})}yo.prototype.info=function(){};function oE(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var C=T[0];if(C!="noop"&&C!="stop"&&C!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return iu(h)}catch{return u}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},au;function ma(){}R(ma,ru),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},au=new ma;function Vn(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tg}function tg(){this.i=null,this.g="",this.h=!1}var ng={},cu={};function lu(a,u,h){a.L=1,a.v=va(pn(u)),a.m=h,a.P=!0,ig(a,null)}function ig(a,u){a.F=Date.now(),pa(a),a.A=pn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),bg(h.i,"t",m),a.C=0,h=a.j.J,a.h=new tg,a.g=Og(a.j,h?u:null,!a.m),0<a.O&&(a.M=new ZI(_(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Hp[0]=T.toString()),T=Hp);for(var C=0;C<T.length;C++){var O=Up(h,T[C],m||u.handleEvent,!1,u.h||u);if(!O)break;u.g[O.key]=O}u=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),vo(),nE(a.i,a.u,a.A,a.l,a.R,a.m)}Vn.prototype.ca=function(a){a=a.target;let u=this.M;u&&gn(a)==3?u.j():this.Y(a)},Vn.prototype.Y=function(a){try{if(a==this.g)e:{let ct=gn(this.g);var u=this.g.Ba();let nr=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Tg(this.g)))){this.J||ct!=4||u==7||(u==8||0>=nr?vo(3):vo(2)),uu(this);var h=this.g.Z();this.X=h;t:if(rg(this)){var m=Tg(this.g);a="";var T=m.length,C=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),wo(this);var O="";break t}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(C&&u==T-1)});m.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,iE(this.i,this.u,this.A,this.l,this.R,ct,h),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Je=this.g;if((me=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(me)){var oe=me;break t}}oe=null}if(h=oe)Zi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,du(this,h);else{this.o=!1,this.s=3,bt(12),ui(this),wo(this);break e}}if(this.P){h=!0;let jt;for(;!this.J&&this.C<O.length;)if(jt=sE(this,O),jt==cu){ct==4&&(this.s=4,bt(14),h=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==ng){this.s=4,bt(15),Zi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Zi(this.i,this.l,jt,null),du(this,jt);if(rg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||O.length!=0||this.h.h||(this.s=1,bt(16),h=!1),this.o=this.o&&h,!h)Zi(this.i,this.l,O,"[Invalid Chunked Response]"),ui(this),wo(this);else if(0<O.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),bu(at),at.M=!0,bt(11))}}else Zi(this.i,this.l,O,null),du(this,O);ct==4&&ui(this),this.o&&!this.J&&(ct==4?Dg(this.j,this):(this.o=!1,pa(this)))}else EE(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ui(this),wo(this)}}}catch{}finally{}};function rg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function sE(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?cu:(h=Number(u.substring(h,m)),isNaN(h)?ng:(m+=1,m+h>u.length?cu:(u=u.slice(m,m+h),a.C=m+h,u)))}Vn.prototype.cancel=function(){this.J=!0,ui(this)};function pa(a){a.S=Date.now()+a.I,og(a,a.I)}function og(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_o(_(a.ba,a),u)}function uu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Vn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(rE(this.i,this.A),this.L!=2&&(vo(),bt(17)),ui(this),this.s=2,wo(this)):og(this,this.S-a)};function wo(a){a.j.G==0||a.J||Dg(a.j,a)}function ui(a){uu(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Wp(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function du(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||hu(h.h,a))){if(!a.K&&hu(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ea(h),wa(h);else break e;gu(h),bt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=_o(_(h.Za,h),6e3));if(1>=cg(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else hi(h,11)}else if((a.K||h.g==a)&&Ea(h),!Y(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let oe=T[u];if(h.T=oe[0],oe=oe[1],h.G==2)if(oe[0]=="c"){h.K=oe[1],h.ia=oe[2];let at=oe[3];at!=null&&(h.la=at,h.j.info("VER="+h.la));let ct=oe[4];ct!=null&&(h.Aa=ct,h.j.info("SVER="+h.Aa));let nr=oe[5];nr!=null&&typeof nr=="number"&&0<nr&&(m=1.5*nr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let jt=a.g;if(jt){let Aa=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var C=m.h;C.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(fu(C,C.h),C.h=null))}if(m.D){let vu=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;vu&&(m.ya=vu,Ie(m.I,m.D,vu))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var O=a;if(m.qa=Mg(m,m.J?m.ia:null,m.W),O.K){lg(m.h,O);var me=O,Je=m.L;Je&&(me.I=Je),me.B&&(uu(me),pa(me)),m.g=O}else kg(m);0<h.i.length&&Ia(h)}else oe[0]!="stop"&&oe[0]!="close"||hi(h,7);else h.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?hi(h,7):pu(h):oe[0]!="noop"&&h.l&&h.l.ta(oe),h.v=0)}}vo(4)}catch{}}var aE=class{constructor(a,u){this.g=a,this.map=u}};function sg(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ag(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function cg(a){return a.h?1:a.g?a.g.size:0}function hu(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function fu(a,u){a.g?a.g.add(u):a.h=u}function lg(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}sg.prototype.cancel=function(){if(this.i=ug(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function ug(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return M(a.i)}function cE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function lE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function dg(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=lE(a),m=cE(a),T=m.length,C=0;C<T;C++)u.call(void 0,m[C],h&&h[C],a)}var hg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uE(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),T=null;if(0<=m){var C=a[h].substring(0,m);T=a[h].substring(m+1)}else C=a[h];u(C,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function di(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof di){this.h=a.h,ga(this,a.j),this.o=a.o,this.g=a.g,ba(this,a.s),this.l=a.l;var u=a.i,h=new To;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),fg(this,h),this.m=a.m}else a&&(u=String(a).match(hg))?(this.h=!1,ga(this,u[1]||"",!0),this.o=Io(u[2]||""),this.g=Io(u[3]||"",!0),ba(this,u[4]),this.l=Io(u[5]||"",!0),fg(this,u[6]||"",!0),this.m=Io(u[7]||"")):(this.h=!1,this.i=new To(null,this.h))}di.prototype.toString=function(){var a=[],u=this.j;u&&a.push(Eo(u,mg,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(Eo(u,mg,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Eo(h,h.charAt(0)=="/"?fE:hE,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Eo(h,pE)),a.join("")};function pn(a){return new di(a)}function ga(a,u,h){a.j=h?Io(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function ba(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function fg(a,u,h){u instanceof To?(a.i=u,gE(a.i,a.h)):(h||(u=Eo(u,mE)),a.i=new To(u,a.h))}function Ie(a,u,h){a.i.set(u,h)}function va(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Io(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Eo(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,dE),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function dE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var mg=/[#\/\?@]/g,hE=/[#\?:]/g,fE=/[#\?]/g,mE=/[#\?@]/g,pE=/#/g;function To(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Ln(a){a.g||(a.g=new Map,a.h=0,a.i&&uE(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}n=To.prototype,n.add=function(a,u){Ln(this),this.i=null,a=er(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function pg(a,u){Ln(a),u=er(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function gg(a,u){return Ln(a),u=er(a,u),a.g.has(u)}n.forEach=function(a,u){Ln(this),this.g.forEach(function(h,m){h.forEach(function(T){a.call(u,T,m,this)},this)},this)},n.na=function(){Ln(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let T=a[m];for(let C=0;C<T.length;C++)h.push(u[m])}return h},n.V=function(a){Ln(this);let u=[];if(typeof a=="string")gg(this,a)&&(u=u.concat(this.g.get(er(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},n.set=function(a,u){return Ln(this),this.i=null,a=er(this,a),gg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function bg(a,u,h){pg(a,u),0<h.length&&(a.i=null,a.g.set(er(a,u),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let C=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var T=C;O[m]!==""&&(T+="="+encodeURIComponent(String(O[m]))),a.push(T)}}return this.i=a.join("&")};function er(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function gE(a,u){u&&!a.j&&(Ln(a),a.i=null,a.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(pg(this,m),bg(this,T,h))},a)),a.j=u}function bE(a,u){let h=new yo;if(c.Image){let m=new Image;m.onload=x(Un,h,"TestLoadImage: loaded",!0,u,m),m.onerror=x(Un,h,"TestLoadImage: error",!1,u,m),m.onabort=x(Un,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=x(Un,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function vE(a,u){let h=new yo,m=new AbortController,T=setTimeout(()=>{m.abort(),Un(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(C=>{clearTimeout(T),C.ok?Un(h,"TestPingServer: ok",!0,u):Un(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),Un(h,"TestPingServer: error",!1,u)})}function Un(a,u,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function _E(){this.g=new tE}function yE(a,u,h){let m=h||"";try{dg(a,function(T,C){let O=T;d(T)&&(O=iu(T)),u.push(m+C+"="+encodeURIComponent(O))})}catch(T){throw u.push(m+"type="+encodeURIComponent("_badmap")),T}}function Ao(a){this.l=a.Ub||null,this.j=a.eb||!1}R(Ao,ru),Ao.prototype.g=function(){return new _a(this.l,this.j)},Ao.prototype.i=function(a){return function(){return a}}({});function _a(a,u){st.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(_a,st),n=_a.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Co(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function vg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?xo(this):Co(this),this.readyState==3&&vg(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,xo(this))},n.Qa=function(a){this.g&&(this.response=a,xo(this))},n.ga=function(){this.g&&xo(this)};function xo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Co(a)}n.setRequestHeader=function(a,u){this.u.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function Co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function _g(a){let u="";return le(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function mu(a,u,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=_g(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,u,h))}function Re(a){st.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Re,st);var wE=/^https?$/i,IE=["POST","PUT"];n=Re.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():au.g(),this.v=this.o?Kp(this.o):Kp(au),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(C){yg(this,C);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let C of m.keys())h.set(C,m.get(C));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(IE,u,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,O]of h)this.g.setRequestHeader(C,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eg(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){yg(this,C)}};function yg(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,wg(a),ya(a)}function wg(a){a.A||(a.A=!0,gt(a,"complete"),gt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,gt(this,"complete"),gt(this,"abort"),ya(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ig(this):this.bb())},n.bb=function(){Ig(this)};function Ig(a){if(a.h&&typeof s<"u"&&(!a.v[1]||gn(a)!=4||a.Z()!=2)){if(a.u&&gn(a)==4)qp(a.Ea,0,a);else if(gt(a,"readystatechange"),gn(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var m;if(m=O===0){var T=String(a.D).match(hg)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!wE.test(T?T.toLowerCase():"")}h=m}if(h)gt(a,"complete"),gt(a,"success");else{a.m=6;try{var C=2<gn(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",wg(a)}}finally{ya(a)}}}}function ya(a,u){if(a.g){Eg(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||gt(a,"ready");try{h.onreadystatechange=m}catch{}}}function Eg(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function gn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),eE(u)}};function Tg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function EE(a){let u={};a=(a.g&&2<=gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(Y(a[m]))continue;var h=E(a[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=u[T]||[];u[T]=C,C.push(h)}I(u,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Ag(a){this.Aa=0,this.i=[],this.j=new yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,a),this.cb=So("retryDelaySeedMs",1e4,a),this.Wa=So("forwardChannelMaxRetries",2,a),this.wa=So("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new sg(a&&a.concurrentRequestLimit),this.Da=new _E,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ag.prototype,n.la=8,n.G=1,n.connect=function(a,u,h,m){bt(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Mg(this,null,this.W),Ia(this)};function pu(a){if(xg(a),a.G==3){var u=a.U++,h=pn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",u),Ie(h,"TYPE","terminate"),ko(a,h),u=new Vn(a,a.j,u),u.L=2,u.v=va(pn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=Og(u.j,null),u.g.ea(u.v)),u.F=Date.now(),pa(u)}Ng(a)}function wa(a){a.g&&(bu(a),a.g.cancel(),a.g=null)}function xg(a){wa(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ea(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ia(a){if(!ag(a.h)&&!a.s){a.s=!0;var u=a.Ga;ho||Lp(),fo||(ho(),fo=!0),Kl.add(u,a),a.B=0}}function TE(a,u){return cg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_o(_(a.Ga,a,u),Pg(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Vn(this,this.j,a),C=this.o;if(this.S&&(C?(C=g(C),w(C,this.S)):C=this.S),this.m!==null||this.O||(T.H=C,C=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Sg(this,T,u),h=pn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),ko(this,h),C&&(this.O?u="headers="+encodeURIComponent(String(_g(C)))+"&"+u:this.m&&mu(h,this.m,C)),fu(this.h,T),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",u),Ie(h,"SID","null"),T.T=!0,lu(T,h,null)):lu(T,h,u),this.G=2}}else this.G==3&&(a?Cg(this,a):this.i.length==0||ag(this.h)||Cg(this))};function Cg(a,u){var h;u?h=u.l:h=a.U++;let m=pn(a.I);Ie(m,"SID",a.K),Ie(m,"RID",h),Ie(m,"AID",a.T),ko(a,m),a.m&&a.o&&mu(m,a.m,a.o),h=new Vn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Sg(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),fu(a.h,h),lu(h,m,u)}function ko(a,u){a.H&&le(a.H,function(h,m){Ie(u,m,h)}),a.l&&dg({},function(h,m){Ie(u,m,h)})}function Sg(a,u,h){h=Math.min(a.i.length,h);var m=a.l?_(a.l.Na,a.l,a):null;e:{var T=a.i;let C=-1;for(;;){let O=["count="+h];C==-1?0<h?(C=T[0].g,O.push("ofs="+C)):C=0:O.push("ofs="+C);let me=!0;for(let Je=0;Je<h;Je++){let oe=T[Je].g,at=T[Je].map;if(oe-=C,0>oe)C=Math.max(0,T[Je].g-100),me=!1;else try{yE(at,O,"req"+oe+"_")}catch{m&&m(at)}}if(me){m=O.join("&");break e}}}return a=a.i.splice(0,h),u.D=a,m}function kg(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;ho||Lp(),fo||(ho(),fo=!0),Kl.add(u,a),a.v=0}}function gu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_o(_(a.Fa,a),Pg(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Rg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_o(_(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),wa(this),Rg(this))};function bu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Rg(a){a.g=new Vn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=pn(a.qa);Ie(u,"RID","rpc"),Ie(u,"SID",a.K),Ie(u,"AID",a.T),Ie(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(u,"TO",a.ja),Ie(u,"TYPE","xmlhttp"),ko(a,u),a.m&&a.o&&mu(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=va(pn(u)),h.m=null,h.P=!0,ig(h,a)}n.Za=function(){this.C!=null&&(this.C=null,wa(this),gu(this),bt(19))};function Ea(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Dg(a,u){var h=null;if(a.g==u){Ea(a),bu(a),a.g=null;var m=2}else if(hu(a.h,u))h=u.D,lg(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;m=ha(),gt(m,new Zp(m,h)),Ia(a)}else kg(a);else if(T=u.s,T==3||T==0&&0<u.X||!(m==1&&TE(a,u)||m==2&&gu(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:hi(a,5);break;case 4:hi(a,10);break;case 3:hi(a,6);break;default:hi(a,2)}}}function Pg(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function hi(a,u){if(a.j.info("Error code "+u),u==2){var h=_(a.fb,a),m=a.Xa;let T=!m;m=new di(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ga(m,"https"),va(m),T?bE(m.toString(),h):vE(m.toString(),h)}else bt(2);a.G=0,a.l&&a.l.sa(u),Ng(a),xg(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Ng(a){if(a.G=0,a.ka=[],a.l){let u=ug(a.h);(u.length!=0||a.i.length!=0)&&(k(a.ka,u),k(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function Mg(a,u,h){var m=h instanceof di?pn(h):new di(h);if(m.g!="")u&&(m.g=u+"."+m.g),ba(m,m.s);else{var T=c.location;m=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var C=new di(null);m&&ga(C,m),u&&(C.g=u),T&&ba(C,T),h&&(C.l=h),m=C}return h=a.D,u=a.ya,h&&u&&Ie(m,h,u),Ie(m,"VER",a.la),ko(a,m),m}function Og(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Re(new Ao({eb:h})):new Re(a.pa),u.Ha(a.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fg(){}n=Fg.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ta(){}Ta.prototype.g=function(a,u){return new Tt(a,u)};function Tt(a,u){st.call(this),this.g=new Ag(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!Y(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Y(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new tr(this)}R(Tt,st),Tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tt.prototype.close=function(){pu(this.g)},Tt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=iu(a),a=h);u.i.push(new aE(u.Ya++,a)),u.G==3&&Ia(u)},Tt.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,Tt.aa.N.call(this)};function Vg(a){ou.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let h in u){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}R(Vg,ou);function Lg(){su.call(this),this.status=1}R(Lg,su);function tr(a){this.g=a}R(tr,Fg),tr.prototype.ua=function(){gt(this.g,"a")},tr.prototype.ta=function(a){gt(this.g,new Vg(a))},tr.prototype.sa=function(a){gt(this.g,new Lg)},tr.prototype.ra=function(){gt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,Tt.prototype.send=Tt.prototype.o,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,xf=Rn.createWebChannelTransport=function(){return new Ta},Af=Rn.getStatEventTarget=function(){return ha()},Tf=Rn.Event=li,rl=Rn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Vs=Rn.ErrorCode=fa,eg.COMPLETE="complete",Ef=Rn.EventType=eg,Qp.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",st.prototype.listen=st.prototype.K,jr=Rn.WebChannel=Qp,If=Rn.FetchXmlHttpFactory=Ao,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,wf=Rn.XhrIo=Re}).apply(typeof il<"u"?il:typeof self<"u"?self:typeof window<"u"?window:{});var Dw="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var ao="10.12.3";var $i=new Kn("@firebase/firestore");function Ls(){return $i.logLevel}function U(n,...e){if($i.logLevel<=ne.DEBUG){let t=e.map(hp);$i.debug(`Firestore (${ao}): ${n}`,...t)}}function Nn(n,...e){if($i.logLevel<=ne.ERROR){let t=e.map(hp);$i.error(`Firestore (${ao}): ${n}`,...t)}}function Wr(n,...e){if($i.logLevel<=ne.WARN){let t=e.map(hp);$i.warn(`Firestore (${ao}): ${n}`,...t)}}function hp(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function W(n="Unexpected state"){let e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+n;throw Nn(e),new Error(e)}function ye(n,e){n||W()}function X(n,e){return n}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Rt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ll=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Df=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ye.UNAUTHENTICATED))}shutdown(){}},Pf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Nf=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>y(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string"),new ll(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new Ye(e)}},Mf=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Of=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ff=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string"),this.R=t.token,new Ff(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function oP(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var ul=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=oP(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function se(n,e){return n<e?-1:n>e?1:0}function Kr(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var He=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new L(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new He(0,0))}static max(){return new n(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var dl=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&W(),i===void 0?i=e.length-t:i>e.length-t&&W(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ke=class n extends dl{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new L(S.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},sP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class n extends dl{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return sP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new L(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new L(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new L(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var $=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var Lf=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Lf.UNKNOWN_ID=-1;function aP(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(i===1e9?new He(t+1,0):new He(t,i));return new qi(r,$.empty(),e)}function cP(n){return new qi(n.readTime,n.key,-1)}var qi=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ee.min(),$.empty(),-1)}static max(){return new n(ee.max(),$.empty(),-1)}};function lP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var uP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function na(n){return y(this,null,function*(){if(n.code!==S.FAILED_PRECONDITION||n.message!==uP)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var D=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let d=l;t(e[d]).next(f=>{s[d]=f,++c,c===o&&i(s)},f=>r(f))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function dP(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ia(n){return n.name==="IndexedDbTransactionError"}var u0=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function jl(n){return n==null}function qs(n){return n===0&&1/n==-1/0}function hP(n){return typeof n=="number"&&Number.isInteger(n)&&!qs(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var fP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kU=[...fP,"documentOverlays"],mP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pP=mP,RU=[...pP,"indexConfiguration","indexState","indexEntries"];function Pw(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qr(this.root,e,this.comparator,!1)}getReverseIterator(){return new qr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qr(this.root,e,this.comparator,!0)}},qr=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ln=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,t,i,r,o){return this}insert(e,t,i){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hl(this.data.getIterator())}getIteratorFrom(e){return new hl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},hl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ut=class n{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new n([])}unionWith(e){let t=new mt(Pt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kr(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var fl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fl("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var gP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(n){if(ye(!!n),typeof n=="string"){let e=0,t=gP.exec(n);if(ye(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:De(n.seconds),nanos:De(n.nanos)}}function De(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oi(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}function fp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function mp(n){let e=n.mapValue.fields.__previous_value__;return fp(e)?mp(e):e}function Gs(n){let e=Mn(n.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}var jf=class{constructor(e,t,i,r,o,s,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},ml=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fp(n)?4:h0(n)?9007199254740991:10:W()}function hn(n,e){if(n===e)return!0;let t=Gi(n);if(t!==Gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gs(n).isEqual(Gs(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Mn(r.timestampValue),c=Mn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return oi(r.bytesValue).isEqual(oi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return De(r.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return De(r.integerValue)===De(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=De(r.doubleValue),c=De(o.doubleValue);return s===c?qs(s)===qs(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Kr(n.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(Pw(s)!==Pw(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!hn(s[l],c[l])))return!1;return!0}(n,e);default:return W()}}function Hs(n,e){return(n.values||[]).find(t=>hn(t,e))!==void 0}function Qr(n,e){if(n===e)return 0;let t=Gi(n),i=Gi(e);if(t!==i)return se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=De(o.integerValue||o.doubleValue),l=De(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return Nw(n.timestampValue,e.timestampValue);case 4:return Nw(Gs(n),Gs(e));case 5:return se(n.stringValue,e.stringValue);case 6:return function(o,s){let c=oi(o),l=oi(s);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=se(c[d],l[d]);if(f!==0)return f}return se(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=se(De(o.latitude),De(s.latitude));return c!==0?c:se(De(o.longitude),De(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let c=o.values||[],l=s.values||[];for(let d=0;d<c.length&&d<l.length;++d){let f=Qr(c[d],l[d]);if(f)return f}return se(c.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ol.mapValue&&s===ol.mapValue)return 0;if(o===ol.mapValue)return 1;if(s===ol.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let _=se(l[p],f[p]);if(_!==0)return _;let x=Qr(c[l[p]],d[f[p]]);if(x!==0)return x}return se(l.length,f.length)}(n.mapValue,e.mapValue);default:throw W()}}function Nw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=Mn(n),i=Mn(e),r=se(t.seconds,i.seconds);return r!==0?r:se(t.nanos,i.nanos)}function Yr(n){return Bf(n)}function Bf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Mn(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=Bf(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Bf(t.fields[s])}`;return r+"}"}(n.mapValue):W()}function Mw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zf(n){return!!n&&"integerValue"in n}function pp(n){return!!n&&"arrayValue"in n}function Ow(n){return!!n&&"nullValue"in n}function Fw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function al(n){return!!n&&"mapValue"in n}function js(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Yi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=js(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=js(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Dt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!al(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=js(t)}setAll(e){let t=Pt.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=c.popLast()}s?i[c.lastSegment()]=js(s):r.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());al(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];al(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Yi(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(js(this.value))}};function f0(n){let e=[];return Yi(n.fields,(t,i)=>{let r=new Pt([t]);if(al(i)){let o=f0(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Ut(e)}var Kt=class n{constructor(e,t,i,r,o,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Dt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ee.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Dt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Dt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jr=class{constructor(e,t){this.position=e,this.inclusive=t}};function Vw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=$.comparator($.fromName(s.referenceValue),t.key):i=Qr(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Lw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hn(n.position[t],e.position[t]))return!1;return!0}var Xr=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function bP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var pl=class{},je=class n extends pl{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new qf(e,t,i):t==="array-contains"?new Wf(e,i):t==="in"?new Kf(e,i):t==="not-in"?new Qf(e,i):t==="array-contains-any"?new Yf(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Gf(e,i):new Hf(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qr(t,this.value)):t!==null&&Gi(this.value)===Gi(t)&&this.matchesComparison(Qr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qt=class n extends pl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return m0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function m0(n){return n.op==="and"}function p0(n){return vP(n)&&m0(n)}function vP(n){for(let e of n.filters)if(e instanceof Qt)return!1;return!0}function $f(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Yr(n.value);if(p0(n))return n.filters.map(e=>$f(e)).join(",");{let e=n.filters.map(t=>$f(t)).join(",");return`${n.op}(${e})`}}function g0(n,e){return n instanceof je?function(i,r){return r instanceof je&&i.op===r.op&&i.field.isEqual(r.field)&&hn(i.value,r.value)}(n,e):n instanceof Qt?function(i,r){return r instanceof Qt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&g0(s,r.filters[c]),!0):!1}(n,e):void W()}function b0(n){return n instanceof je?function(t){return`${t.field.canonicalString()} ${t.op} ${Yr(t.value)}`}(n):n instanceof Qt?function(t){return t.op.toString()+" {"+t.getFilters().map(b0).join(" ,")+"}"}(n):"Filter"}var qf=class extends je{constructor(e,t,i){super(e,t,i),this.key=$.fromName(i.referenceValue)}matches(e){let t=$.comparator(e.key,this.key);return this.matchesComparison(t)}},Gf=class extends je{constructor(e,t){super(e,"in",t),this.keys=v0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Hf=class extends je{constructor(e,t){super(e,"not-in",t),this.keys=v0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function v0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>$.fromName(i.referenceValue))}var Wf=class extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return pp(t)&&Hs(t.arrayValue,this.value)}},Kf=class extends je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Hs(this.value.arrayValue,t)}},Qf=class extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Hs(this.value.arrayValue,t)}},Yf=class extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!pp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hs(this.value.arrayValue,i))}};var Jf=class{constructor(e,t=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function Uw(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Jf(n,e,t,i,r,o,s)}function gp(n){let e=X(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>$f(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),jl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yr(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yr(i)).join(",")),e.ue=t}return e.ue}function bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!g0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Lw(n.startAt,e.startAt)&&Lw(n.endAt,e.endAt)}function Xf(n){return $.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hi=class{constructor(e,t=null,i=[],r=[],o=null,s="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function _P(n,e,t,i,r,o,s,c){return new Hi(n,e,t,i,r,o,s,c)}function vp(n){return new Hi(n)}function jw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _0(n){return n.collectionGroup!==null}function Bs(n){let e=X(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new mt(Pt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xr(o,i))}),t.has(Pt.keyField().canonicalString())||e.ce.push(new Xr(Pt.keyField(),i))}return e.ce}function un(n){let e=X(n);return e.le||(e.le=yP(e,Bs(n))),e.le}function yP(n,e){if(n.limitType==="F")return Uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Xr(r.field,o)});let t=n.endAt?new Jr(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jr(n.startAt.position,n.startAt.inclusive):null;return Uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zf(n,e){let t=n.filters.concat([e]);return new Hi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function em(n,e,t){return new Hi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bl(n,e){return bp(un(n),un(e))&&n.limitType===e.limitType}function y0(n){return`${gp(un(n))}|lt:${n.limitType}`}function Br(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>b0(r)).join(", ")}]`),jl(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Yr(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Yr(r)).join(",")),`Target(${i})`}(un(n))}; limitType=${n.limitType})`}function zl(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):$.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of Bs(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,c,l){let d=Vw(s,c,l);return s.inclusive?d<=0:d<0}(i.startAt,Bs(i),r)||i.endAt&&!function(s,c,l){let d=Vw(s,c,l);return s.inclusive?d>=0:d>0}(i.endAt,Bs(i),r))}(n,e)}function wP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function w0(n){return(e,t)=>{let i=!1;for(let r of Bs(n)){let o=IP(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function IP(n,e,t){let i=n.field.isKeyField()?$.comparator(e.key,t.key):function(o,s,c){let l=s.data.field(o),d=c.data.field(o);return l!==null&&d!==null?Qr(l,d):W()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}var si=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}};var EP=new Pe($.comparator);function On(){return EP}var I0=new Pe($.comparator);function Us(...n){let e=I0;for(let t of n)e=e.insert(t.key,t);return e}function E0(n){let e=I0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ji(){return zs()}function T0(){return zs()}function zs(){return new si(n=>n.toString(),(n,e)=>n.isEqual(e))}var TP=new Pe($.comparator),AP=new mt($.comparator);function ie(...n){let e=AP;for(let t of n)e=e.add(t);return e}var xP=new mt(se);function CP(){return xP}function A0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qs(e)?"-0":e}}function x0(n){return{integerValue:""+n}}function SP(n,e){return hP(e)?x0(e):A0(n,e)}var Zr=class{constructor(){this._=void 0}};function kP(n,e,t){return n instanceof eo?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&fp(o)&&(o=mp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Wi?S0(n,e):n instanceof Ki?k0(n,e):function(r,o){let s=C0(r,o),c=Bw(s)+Bw(r.Pe);return zf(s)&&zf(r.Pe)?x0(c):A0(r.serializer,c)}(n,e)}function RP(n,e,t){return n instanceof Wi?S0(n,e):n instanceof Ki?k0(n,e):t}function C0(n,e){return n instanceof to?function(i){return zf(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var eo=class extends Zr{},Wi=class extends Zr{constructor(e){super(),this.elements=e}};function S0(n,e){let t=R0(e);for(let i of n.elements)t.some(r=>hn(r,i))||t.push(i);return{arrayValue:{values:t}}}var Ki=class extends Zr{constructor(e){super(),this.elements=e}};function k0(n,e){let t=R0(e);for(let i of n.elements)t=t.filter(r=>!hn(r,i));return{arrayValue:{values:t}}}var to=class extends Zr{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Bw(n){return De(n.integerValue||n.doubleValue)}function R0(n){return pp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DP(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Wi&&r instanceof Wi||i instanceof Ki&&r instanceof Ki?Kr(i.elements,r.elements,hn):i instanceof to&&r instanceof to?hn(i.Pe,r.Pe):i instanceof eo&&r instanceof eo}(n.transform,e.transform)}var tm=class{constructor(e,t){this.version=e,this.transformResults=t}},Pn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var no=class{};function D0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ws(n.key,Pn.none()):new Qi(n.key,n.data,Pn.none());{let t=n.data,i=Dt.empty(),r=new mt(Pt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new fn(n.key,i,new Ut(r.toArray()),Pn.none())}}function PP(n,e,t){n instanceof Qi?function(r,o,s){let c=r.value.clone(),l=$w(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fn?function(r,o,s){if(!cl(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=$w(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(P0(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function $s(n,e,t,i){return n instanceof Qi?function(o,s,c,l){if(!cl(o.precondition,s))return c;let d=o.value.clone(),f=qw(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof fn?function(o,s,c,l){if(!cl(o.precondition,s))return c;let d=qw(o.fieldTransforms,l,s),f=s.data;return f.setAll(P0(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(o,s,c){return cl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function NP(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=C0(i.transform,r||null);o!=null&&(t===null&&(t=Dt.empty()),t.set(i.field,o))}return t||null}function zw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Kr(i,r,(o,s)=>DP(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qi=class extends no{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},fn=class extends no{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function P0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function $w(n,e,t){let i=new Map;ye(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,RP(s,c,t[r]))}return i}function qw(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,kP(o,s,e))}return i}var Ws=class extends no{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nm=class extends no{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var im=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&PP(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=$s(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=$s(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=T0();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(r.key)?null:c;let l=D0(s,c);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ie())}isEqual(e){return this.batchId===e.batchId&&Kr(this.mutations,e.mutations,(t,i)=>zw(t,i))&&Kr(this.baseMutations,e.baseMutations,(t,i)=>zw(t,i))}},rm=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ye(e.mutations.length===i.length);let r=function(){return TP}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var om=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sm=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,re;function MP(n){switch(n){default:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function N0(n){if(n===void 0)return Nn("GRPC error has no .code"),S.UNKNOWN;switch(n){case Le.OK:return S.OK;case Le.CANCELLED:return S.CANCELLED;case Le.UNKNOWN:return S.UNKNOWN;case Le.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Le.INTERNAL:return S.INTERNAL;case Le.UNAVAILABLE:return S.UNAVAILABLE;case Le.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Le.NOT_FOUND:return S.NOT_FOUND;case Le.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Le.ABORTED:return S.ABORTED;case Le.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Le.DATA_LOSS:return S.DATA_LOSS;default:return W()}}(re=Le||(Le={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";var Gw=null;function OP(){return new TextEncoder}var FP=new ni([4294967295,4294967295],0);function Hw(n){let e=OP().encode(n),t=new yf;return t.update(e),new Uint8Array(t.digest())}function Ww(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ni([t,i],0),new ni([r,o],0)]}var am=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bi(`Invalid padding: ${t}`);if(i<0)throw new Bi(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bi(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Bi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ni.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(ni.fromNumber(i)));return r.compare(FP)===1&&(r=new ni([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Hw(e),[i,r]=Ww(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let t=Hw(e),[i,r]=Ww(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gl=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Ks.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ee.min(),r,new Pe(se),On(),ie())}},Ks=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,ie(),ie(),ie())}};var Gr=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},bl=class{constructor(e,t){this.targetId=e,this.me=t}},vl=class{constructor(e,t,i=yt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},_l=class{constructor(){this.fe=0,this.ge=Qw(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ie(),t=ie(),i=ie();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:W()}}),new Ks(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=Qw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},cm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=Kw(),this.Qe=new Pe(se)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:W()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(Xf(o))if(i===0){let s=new $(o.path);this.Ue(t,s,Kt.newNoDocument(s,ee.min()))}else ye(i===1);else{let s=this.Ye(t);if(s!==i){let c=this.Ze(e),l=c?this.Xe(c,e,s):1;if(l!==0){this.je(t);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}Gw?.et(function(f,p,_,x,R){var M,k,H,Y,Z,we;let pt={localCacheCount:f,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},le=p.unchangedNames;return le&&(pt.bloomFilter={applied:R===0,hashCount:(M=le?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Y=(H=(k=le?.bits)===null||k===void 0?void 0:k.bitmap)===null||H===void 0?void 0:H.length)!==null&&Y!==void 0?Y:0,padding:(we=(Z=le?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&we!==void 0?we:0,mightContain:I=>{var g;return(g=x?.mightContain(I))!==null&&g!==void 0&&g}}),pt}(s,e.me,this.Le.tt(),c,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,c;try{s=oi(i).toUint8Array()}catch(l){if(l instanceof fl)return Wr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new am(s,r,o)}catch(l){return Wr(l instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&Xf(c.target)){let l=new $(c.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Kt.newNoDocument(l,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let i=ie();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new gl(e,t,this.Qe,this.ke,i);return this.ke=On(),this.qe=Kw(),this.Qe=new Pe(se),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new _l,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(se),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _l),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Kw(){return new Pe($.comparator)}function Qw(){return new Pe($.comparator)}var VP={asc:"ASCENDING",desc:"DESCENDING"},LP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UP={and:"AND",or:"OR"},lm=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function um(n,e){return n.useProto3Json||jl(e)?e:{value:e}}function yl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jP(n,e){return yl(n,e.toTimestamp())}function dn(n){return ye(!!n),ee.fromTimestamp(function(t){let i=Mn(t);return new He(i.seconds,i.nanos)}(n))}function _p(n,e){return dm(n,e).canonicalString()}function dm(n,e){let t=function(r){return new ke(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function O0(n){let e=ke.fromString(n);return ye(j0(e)),e}function hm(n,e){return _p(n.databaseId,e.path)}function Cf(n,e){let t=O0(e);if(t.get(1)!==n.databaseId.projectId)throw new L(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $(V0(t))}function F0(n,e){return _p(n.databaseId,e)}function BP(n){let e=O0(n);return e.length===4?ke.emptyPath():V0(e)}function fm(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V0(n){return ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Yw(n,e,t){return{name:hm(n,e),fields:t.value.mapValue.fields}}function zP(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(ye(f===void 0||typeof f=="string"),yt.fromBase64String(f||"")):(ye(f===void 0||f instanceof Buffer||f instanceof Uint8Array),yt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(d){let f=d.code===void 0?S.UNKNOWN:N0(d.code);return new L(f,d.message||"")}(s);t=new vl(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Cf(n,i.document.name),o=dn(i.document.updateTime),s=i.document.createTime?dn(i.document.createTime):ee.min(),c=new Dt({mapValue:{fields:i.document.fields}}),l=Kt.newFoundDocument(r,o,s,c),d=i.targetIds||[],f=i.removedTargetIds||[];t=new Gr(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Cf(n,i.document),o=i.readTime?dn(i.readTime):ee.min(),s=Kt.newNoDocument(r,o),c=i.removedTargetIds||[];t=new Gr([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Cf(n,i.document),o=i.removedTargetIds||[];t=new Gr([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new sm(r,o),c=i.targetId;t=new bl(c,s)}}return t}function $P(n,e){let t;if(e instanceof Qi)t={update:Yw(n,e.key,e.value)};else if(e instanceof Ws)t={delete:hm(n,e.key)};else if(e instanceof fn)t={update:Yw(n,e.key,e.data),updateMask:XP(e.fieldMask)};else{if(!(e instanceof nm))return W();t={verify:hm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let c=s.transform;if(c instanceof eo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ki)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof to)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw W()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:jP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(n,e.precondition)),t}function qP(n,e){return n&&n.length>0?(ye(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?dn(r.updateTime):dn(o);return s.isEqual(ee.min())&&(s=dn(o)),new tm(s,r.transformResults||[])}(t,e))):[]}function GP(n,e){return{documents:[F0(n,e.path)]}}function HP(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=F0(n,r);let o=function(d){if(d.length!==0)return U0(Qt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(_){return{field:zr(_.field),direction:QP(_.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=um(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:r}}function WP(n){let e=BP(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){ye(i===1);let f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(p){let _=L0(p);return _ instanceof Qt&&p0(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(_=>function(R){return new Xr($r(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(p){let _;return _=typeof p=="object"?p.value:p,jl(_)?null:_}(t.limit));let l=null;t.startAt&&(l=function(p){let _=!!p.before,x=p.values||[];return new Jr(x,_)}(t.startAt));let d=null;return t.endAt&&(d=function(p){let _=!p.before,x=p.values||[];return new Jr(x,_)}(t.endAt)),_P(e,r,s,o,c,"F",l,d)}function KP(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function L0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=$r(t.unaryFilter.field);return je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=$r(t.unaryFilter.field);return je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=$r(t.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=$r(t.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(n):n.fieldFilter!==void 0?function(t){return je.create($r(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qt.create(t.compositeFilter.filters.map(i=>L0(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W()}}(t.compositeFilter.op))}(n):W()}function QP(n){return VP[n]}function YP(n){return LP[n]}function JP(n){return UP[n]}function zr(n){return{fieldPath:n.canonicalString()}}function $r(n){return Pt.fromServerFormat(n.fieldPath)}function U0(n){return n instanceof je?function(t){if(t.op==="=="){if(Fw(t.value))return{unaryFilter:{field:zr(t.field),op:"IS_NAN"}};if(Ow(t.value))return{unaryFilter:{field:zr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fw(t.value))return{unaryFilter:{field:zr(t.field),op:"IS_NOT_NAN"}};if(Ow(t.value))return{unaryFilter:{field:zr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(t.field),op:YP(t.op),value:t.value}}}(n):n instanceof Qt?function(t){let i=t.getFilters().map(r=>U0(r));return i.length===1?i[0]:{compositeFilter:{op:JP(t.op),filters:i}}}(n):W()}function XP(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qs=class n{constructor(e,t,i,r,o=ee.min(),s=ee.min(),c=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mm=class{constructor(e){this.ct=e}};function ZP(n){let e=WP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?em(e,e.limit,"L"):e}var wl=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(De(e.integerValue));else if("doubleValue"in e){let i=De(e.doubleValue);isNaN(i)?this.Et(t,13):(this.Et(t,15),qs(i)?t.dt(0):t.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(t,20),typeof i=="string"&&(i=Mn(i)),t.At(`${i.seconds||""}`),t.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(oi(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?h0(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):W()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let i=e.fields||{};this.Et(t,55);for(let r of Object.keys(i))this.Rt(r,t),this.It(i[r],t)}wt(e,t){let i=e.values||[];this.Et(t,50);for(let r of i)this.It(r,t)}gt(e,t){this.Et(t,37),$.fromName(e).path.forEach(i=>{this.Et(t,60),this.St(i,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};wl.bt=new wl;var pm=class{constructor(){this._n=new gm}addToCollectionParentIndex(e,t){return this._n.add(t),D.resolve()}getCollectionParents(e,t){return D.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return D.resolve()}deleteFieldIndex(e,t){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,t){return D.resolve()}getDocumentsMatchingTarget(e,t){return D.resolve(null)}getIndexType(e,t){return D.resolve(0)}getFieldIndexes(e,t){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,t){return D.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return D.resolve(qi.min())}updateCollectionGroup(e,t,i){return D.resolve()}updateIndexEntries(e,t){return D.resolve()}},gm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new mt(ke.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new mt(ke.comparator)).toArray()}};var PU=new Uint8Array(0);var cn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var Ys=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var bm=class{constructor(){this.changes=new si(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?D.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vm=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var _m=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&$s(i.mutation,r,Ut.empty(),He.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ie()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ie()){let r=ji();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Us();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=ji();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ie()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,i,r){let o=On(),s=zs(),c=function(){return zs()}();return t.forEach((l,d)=>{let f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof fn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),$s(f.mutation,d,f.mutation.getFieldMask(),He.now())):s.set(d.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),t.forEach((d,f)=>{var p;return c.set(d,new vm(f,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let i=zs(),r=new Pe((s,c)=>s-c),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(l=>{let d=t.get(l);if(d===null)return;let f=i.get(l)||Ut.empty();f=c.applyToLocalView(d,f),i.set(l,f);let p=(r.get(c.batchId)||ie()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=T0();f.forEach(_=>{if(!o.has(_)){let x=D0(t.get(_),i.get(_));x!==null&&p.set(_,x),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return D.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):D.resolve(ji()),c=-1,l=o;return s.next(d=>D.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?D.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{l=l.insert(f,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,ie())).next(f=>({batchId:c,changes:E0(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $(t)).next(i=>{let r=Us();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Us();return this.indexManager.getCollectionParents(e,o).next(c=>D.forEach(c,l=>{let d=function(p,_){return new Hi(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(f=>{f.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,Kt.newInvalidDocument(f)))});let c=Us();return s.forEach((l,d)=>{let f=o.get(l);f!==void 0&&$s(f.mutation,d,Ut.empty(),He.now()),zl(t,d)&&(c=c.insert(l,d))}),c})}};var ym=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return D.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:dn(r.createTime)}}(t)),D.resolve()}getNamedQuery(e,t){return D.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(r){return{name:r.name,query:ZP(r.bundledQuery),readTime:dn(r.readTime)}}(t)),D.resolve()}};var wm=class{constructor(){this.overlays=new Pe($.comparator),this.hr=new Map}getOverlay(e,t){return D.resolve(this.overlays.get(t))}getOverlays(e,t){let i=ji();return D.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),D.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),D.resolve()}getOverlaysForCollection(e,t,i){let r=ji(),o=t.length+1,s=new $(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return D.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Pe((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let f=o.get(d.largestBatchId);f===null&&(f=ji(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=ji(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return D.resolve(c)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new om(t,i));let o=this.hr.get(t);o===void 0&&(o=ie(),this.hr.set(t,o)),this.hr.set(t,o.add(i.key))}};var Js=class{constructor(){this.Pr=new mt(Ue.Ir),this.Tr=new mt(Ue.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let i=new Ue(e,t);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ar(new Ue(e,t))}Rr(e,t){e.forEach(i=>this.removeReference(i,t))}Vr(e){let t=new $(new ke([])),i=new Ue(t,e),r=new Ue(t,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new $(new ke([])),i=new Ue(t,e),r=new Ue(t,e+1),o=ie();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ue(e,0),i=this.Pr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Ue=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return $.comparator(e.key,t.key)||se(e.pr,t.pr)}static Er(e,t){return se(e.pr,t.pr)||$.comparator(e.key,t.key)}};var Im=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new mt(Ue.Ir)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new im(o,t,i,r);this.mutationQueue.push(s);for(let c of r)this.wr=this.wr.add(new Ue(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return D.resolve(s)}lookupMutationBatch(e,t){return D.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.br(i),o=r<0?0:r;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Ue(t,0),r=new Ue(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let c=this.Sr(s.pr);o.push(c)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mt(se);return t.forEach(r=>{let o=new Ue(r,0),s=new Ue(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],c=>{i=i.add(c.pr)})}),D.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;$.isDocumentKey(o)||(o=o.child(""));let s=new Ue(new $(o),0),c=new mt(se);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.pr)),!0)},s),D.resolve(this.Dr(c))}Dr(e){let t=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ye(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return D.forEach(t.mutations,r=>{let o=new Ue(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,t){let i=new Ue(t,0),r=this.wr.firstAfterOrEqual(i);return D.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Em=class{constructor(e){this.vr=e,this.docs=function(){return new Pe($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return D.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=On();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Kt.newInvalidDocument(r))}),D.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=On(),s=t.path,c=new $(s.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||lP(cP(f),i)<=0||(r.has(f.key)||zl(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,t,i,r){W()}Fr(e,t){return D.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Tm(this)}getSize(e){return D.resolve(this.size)}},Tm=class extends bm{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),D.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var Am=class{constructor(e){this.persistence=e,this.Mr=new si(t=>gp(t),bp),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Js,this.targetCount=0,this.Lr=Ys.Nn()}forEachTarget(e,t){return this.Mr.forEach((i,r)=>t(r)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Or&&(this.Or=t),D.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,D.resolve()}updateTargetData(e,t){return this.qn(t),D.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Mr.forEach((s,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),D.waitFor(o).next(()=>r)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,t){let i=this.Mr.get(t)||null;return D.resolve(i)}addMatchingKeys(e,t,i){return this.Nr.dr(t,i),D.resolve()}removeMatchingKeys(e,t,i){this.Nr.Rr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),D.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Nr.gr(t);return D.resolve(i)}containsKey(e,t){return D.resolve(this.Nr.containsKey(t))}};var xm=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new u0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Am(this),this.indexManager=new pm,this.remoteDocumentCache=function(r){return new Em(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new mm(t),this.$r=new ym(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new Im(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,i){U("MemoryPersistence","Starting transaction:",e);let r=new Cm(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,t){return D.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}},Cm=class extends Uf{constructor(e){super(),this.currentSequenceNumber=e}},Sm=class n{constructor(e){this.persistence=e,this.zr=new Js,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw W()}addReference(e,t,i){return this.zr.addReference(i,t),this.Jr.delete(i.toString()),D.resolve()}removeReference(e,t,i){return this.zr.removeReference(i,t),this.Jr.add(i.toString()),D.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),D.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,i=>{let r=$.fromPath(i);return this.Yr(e,r).next(o=>{o||t.removeEntry(r,ee.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(i=>{i?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return D.or([()=>D.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var km=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.qi=i,this.Qi=r}static Ki(e,t){let i=ie(),r=ie();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var Rm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return p_()?8:dP(qe())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Rm;return this.Ji(e,t,s).next(c=>{if(o.result=c,this.Ui)return this.Yi(e,t,s,c.size)})}).next(()=>o.result)}Yi(e,t,i,r){return i.documentReadCount<this.Wi?(Ls()<=ne.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Br(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),D.resolve()):(Ls()<=ne.DEBUG&&U("QueryEngine","Query:",Br(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Ls()<=ne.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Br(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(t))):D.resolve())}ji(e,t){if(jw(t))return D.resolve(null);let i=un(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=em(t,null,"F"),i=un(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ie(...o);return this.zi.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(l=>{let d=this.Zi(t,c);return this.Xi(t,d,s,l.readTime)?this.ji(e,em(t,null,"F")):this.es(e,d,t,l)}))})))}Hi(e,t,i,r){return jw(t)||r.isEqual(ee.min())?D.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(t,o);return this.Xi(t,s,i,r)?D.resolve(null):(Ls()<=ne.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Br(t)),this.es(e,s,t,aP(r,-1)).next(c=>c))})}Zi(e,t){let i=new mt(w0(e));return t.forEach((r,o)=>{zl(e,o)&&(i=i.add(o))}),i}Xi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,t,i){return Ls()<=ne.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Br(t)),this.zi.getDocumentsMatchingQuery(e,t,qi.min(),i)}es(e,t,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Pm=class{constructor(e,t,i,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Pe(se),this.rs=new si(o=>gp(o),bp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _m(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function eN(n,e,t,i){return new Pm(n,e,t,i)}function B0(n,e){return y(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t._s(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],l=ie();for(let d of r){s.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(i,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:c}))})})})}function tN(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let p=d.batch,_=p.keys(),x=D.resolve();return _.forEach(R=>{x=x.next(()=>f.getEntry(l,R)).next(M=>{let k=d.docVersions.get(R);ye(k!==null),M.version.compareTo(k)<0&&(p.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),f.addEntry(M)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let l=ie();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function z0(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function nN(n,e){let t=X(n),i=e.snapshotVersion,r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;let c=[];e.targetChanges.forEach((f,p)=>{let _=r.get(p);if(!_)return;c.push(t.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.Qr.addMatchingKeys(o,f.addedDocuments,p)));let x=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(yt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,i)),r=r.insert(p,x),function(M,k,H){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(_,x,f)&&c.push(t.Qr.updateTargetData(o,x))});let l=On(),d=ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(iN(o,s,e.documentUpdates).next(f=>{l=f.cs,d=f.ls})),!i.isEqual(ee.min())){let f=t.Qr.getLastRemoteSnapshotVersion(o).next(p=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(f)}return D.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(t.ns=r,o))}function iN(n,e,t){let i=ie(),r=ie();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=On();return t.forEach((c,l)=>{let d=o.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(c,l.readTime),s=s.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(c,l)):U("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function rN(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oN(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Qr.getTargetData(i,e).next(o=>o?(r=o,D.resolve(r)):t.Qr.allocateTargetId(i).next(s=>(r=new Qs(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(i.targetId,i),t.rs.set(e,i.targetId)),i})}function Nm(n,e,t){return y(this,null,function*(){let i=X(n),r=i.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ia(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function Jw(n,e,t){let i=X(n),r=ee.min(),o=ie();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){let p=X(l),_=p.rs.get(f);return _!==void 0?D.resolve(p.ns.get(_)):p.Qr.getTargetData(d,f)}(i,s,un(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,t?r:ee.min(),t?o:ie())).next(c=>(sN(i,wP(e),c),{documents:c,hs:o})))}function sN(n,e,t){let i=n.ss.get(e)||ee.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ss.set(e,i)}var Il=class{constructor(){this.activeTargetIds=CP()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Mm=class{constructor(){this.no=new Il,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,i){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Il,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Om=class{io(e){}shutdown(){}};var El=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sl=null;function Sf(){return sl===null?sl=function(){return 268435456+Math.round(2147483648*Math.random())}():sl++,"0x"+sl.toString(16)}var aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Fm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ft="WebChannelConnection",Vm=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+t.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(t,i,r,o,s){let c=Sf(),l=this.vo(t,i.toUriEncodedString());U("RestConnection",`Sending RPC '${t}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(t,l,d,r).then(f=>(U("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Wr("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(t,i,r,o,s,c){return this.Co(t,i,r,o,s)}Fo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}vo(t,i){let r=aN[t];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,i,r){let o=Sf();return new Promise((s,c)=>{let l=new wf;l.setWithCredentials(!0),l.listenOnce(Ef.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vs.NO_ERROR:let f=l.getResponseJson();U(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Vs.TIMEOUT:U(ft,`RPC '${e}' ${o} timed out`),c(new L(S.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:let p=l.getStatus();if(U(ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let x=_?.error;if(x&&x.status&&x.message){let R=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(H)>=0?H:S.UNKNOWN}(x.status);c(new L(R,x.message))}else c(new L(S.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new L(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{U(ft,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(r);U(ft,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",d,i,15)})}Oo(e,t,i){let r=Sf(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xf(),c=Af(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new If({})),this.Fo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let f=o.join("");U(ft,`Creating RPC '${e}' stream ${r}: ${f}`,l);let p=s.createWebChannel(f,l),_=!1,x=!1,R=new Fm({lo:k=>{x?U(ft,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(_||(U(ft,`Opening RPC '${e}' stream ${r} transport.`),p.open(),_=!0),U(ft,`RPC '${e}' stream ${r} sending:`,k),p.send(k))},ho:()=>p.close()}),M=(k,H,Y)=>{k.listen(H,Z=>{try{Y(Z)}catch(we){setTimeout(()=>{throw we},0)}})};return M(p,jr.EventType.OPEN,()=>{x||(U(ft,`RPC '${e}' stream ${r} transport opened.`),R.mo())}),M(p,jr.EventType.CLOSE,()=>{x||(x=!0,U(ft,`RPC '${e}' stream ${r} transport closed`),R.po())}),M(p,jr.EventType.ERROR,k=>{x||(x=!0,Wr(ft,`RPC '${e}' stream ${r} transport errored:`,k),R.po(new L(S.UNAVAILABLE,"The operation could not be completed")))}),M(p,jr.EventType.MESSAGE,k=>{var H;if(!x){let Y=k.data[0];ye(!!Y);let Z=Y,we=Z.error||((H=Z[0])===null||H===void 0?void 0:H.error);if(we){U(ft,`RPC '${e}' stream ${r} received error:`,we);let pt=we.status,le=function(v){let w=Le[v];if(w!==void 0)return N0(w)}(pt),I=we.message;le===void 0&&(le=S.INTERNAL,I="Unknown error status: "+pt+" with message "+we.message),x=!0,R.po(new L(le,I)),p.close()}else U(ft,`RPC '${e}' stream ${r} received:`,Y),R.yo(Y)}}),M(c,Tf.STAT_EVENT,k=>{k.stat===rl.PROXY?U(ft,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===rl.NOPROXY&&U(ft,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}};function kf(){return typeof document<"u"?document:null}function $l(n){return new lm(n,!0)}var Tl=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=i,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-i);r>0&&U("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Al=class{constructor(e,t,i,r,o,s,c,l){this.oi=e,this.Go=i,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Tl(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return y(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return y(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return y(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(Nn(t.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===t&&this.u_(i,r)},i=>{e(()=>{let r=new L(S.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,t){let i=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>y(this,null,function*(){this.state=0,this.start()}))}c_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Lm=class extends Al{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=zP(this.serializer,e),i=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?dn(s.readTime):ee.min()}(e);return this.listener.h_(t,i)}P_(e){let t={};t.database=fm(this.serializer),t.addTarget=function(o,s){let c,l=s.target;if(c=Xf(l)?{documents:GP(o,l)}:{query:HP(o,l)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=M0(o,s.resumeToken);let d=um(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=yl(o,s.snapshotVersion.toTimestamp());let d=um(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let i=KP(this.serializer,e);i&&(t.labels=i),this.i_(t)}I_(e){let t={};t.database=fm(this.serializer),t.removeTarget=e,this.i_(t)}},Um=class extends Al{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let t=qP(e.writeResults,e.commitTime),i=dn(e.commitTime);return this.listener.A_(i,t)}return ye(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=fm(this.serializer),this.i_(e)}d_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>$P(this.serializer,i))};this.i_(t)}};var jm=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new L(S.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,dm(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(S.UNKNOWN,o.toString())})}xo(e,t,i,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.xo(e,dm(t,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(S.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Bm=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Nn(t),this.y_=!1):U("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var zm=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{i.enqueueAndForget(()=>y(this,null,function*(){Ji(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(l){return y(this,null,function*(){let d=X(l);d.M_.add(4),yield ra(d),d.N_.set("Unknown"),d.M_.delete(4),yield ql(d)})}(this))}))}),this.N_=new Bm(i,r)}};function ql(n){return y(this,null,function*(){if(Ji(n))for(let e of n.x_)yield e(!0)})}function ra(n){return y(this,null,function*(){for(let e of n.x_)yield e(!1)})}function $0(n,e){let t=X(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Ep(t)?Ip(t):co(t).Xo()&&wp(t,e))}function yp(n,e){let t=X(n),i=co(t);t.F_.delete(e),i.Xo()&&q0(t,e),t.F_.size===0&&(i.Xo()?i.n_():Ji(t)&&t.N_.set("Unknown"))}function wp(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}co(n).P_(e)}function q0(n,e){n.L_.xe(e),co(n).I_(e)}function Ip(n){n.L_=new cm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),co(n).start(),n.N_.w_()}function Ep(n){return Ji(n)&&!co(n).Zo()&&n.F_.size>0}function Ji(n){return X(n).M_.size===0}function G0(n){n.L_=void 0}function cN(n){return y(this,null,function*(){n.N_.set("Online")})}function lN(n){return y(this,null,function*(){n.F_.forEach((e,t)=>{wp(n,e)})})}function uN(n,e){return y(this,null,function*(){G0(n),Ep(n)?(n.N_.D_(e),Ip(n)):n.N_.set("Unknown")})}function dN(n,e,t){return y(this,null,function*(){if(n.N_.set("Online"),e instanceof vl&&e.state===2&&e.cause)try{yield function(r,o){return y(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.F_.delete(c),r.L_.removeTarget(c))})}(n,e)}catch(i){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield xl(n,i)}else if(e instanceof Gr?n.L_.Ke(e):e instanceof bl?n.L_.He(e):n.L_.We(e),!t.isEqual(ee.min()))try{let i=yield z0(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let c=o.L_.rt(s);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.F_.get(d);f&&o.F_.set(d,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,d)=>{let f=o.F_.get(l);if(!f)return;o.F_.set(l,f.withResumeToken(yt.EMPTY_BYTE_STRING,f.snapshotVersion)),q0(o,l);let p=new Qs(f.target,l,d,f.sequenceNumber);wp(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){U("RemoteStore","Failed to raise snapshot:",i),yield xl(n,i)}})}function xl(n,e,t){return y(this,null,function*(){if(!ia(e))throw e;n.M_.add(1),yield ra(n),n.N_.set("Offline"),t||(t=()=>z0(n.localStore)),n.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield ql(n)}))})}function H0(n,e){return e().catch(t=>xl(n,t,e))}function Gl(n){return y(this,null,function*(){let e=X(n),t=ai(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hN(e);)try{let r=yield rN(e.localStore,i);if(r===null){e.v_.length===0&&t.n_();break}i=r.batchId,fN(e,r)}catch(r){yield xl(e,r)}W0(e)&&K0(e)})}function hN(n){return Ji(n)&&n.v_.length<10}function fN(n,e){n.v_.push(e);let t=ai(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function W0(n){return Ji(n)&&!ai(n).Zo()&&n.v_.length>0}function K0(n){ai(n).start()}function mN(n){return y(this,null,function*(){ai(n).V_()})}function pN(n){return y(this,null,function*(){let e=ai(n);for(let t of n.v_)e.d_(t.mutations)})}function gN(n,e,t){return y(this,null,function*(){let i=n.v_.shift(),r=rm.from(i,e,t);yield H0(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gl(n)})}function bN(n,e){return y(this,null,function*(){e&&ai(n).E_&&(yield function(i,r){return y(this,null,function*(){if(function(s){return MP(s)&&s!==S.ABORTED}(r.code)){let o=i.v_.shift();ai(i).t_(),yield H0(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Gl(i)}})}(n,e)),W0(n)&&K0(n)})}function Xw(n,e){return y(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let i=Ji(t);t.M_.add(3),yield ra(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield ql(t)})}function vN(n,e){return y(this,null,function*(){let t=X(n);e?(t.M_.delete(2),yield ql(t)):e||(t.M_.add(2),yield ra(t),t.N_.set("Unknown"))})}function co(n){return n.B_||(n.B_=function(t,i,r){let o=X(t);return o.f_(),new Lm(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:cN.bind(null,n),To:lN.bind(null,n),Ao:uN.bind(null,n),h_:dN.bind(null,n)}),n.x_.push(e=>y(this,null,function*(){e?(n.B_.t_(),Ep(n)?Ip(n):n.N_.set("Unknown")):(yield n.B_.stop(),G0(n))}))),n.B_}function ai(n){return n.k_||(n.k_=function(t,i,r){let o=X(t);return o.f_(),new Um(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:mN.bind(null,n),Ao:bN.bind(null,n),R_:pN.bind(null,n),A_:gN.bind(null,n)}),n.x_.push(e=>y(this,null,function*(){e?(n.k_.t_(),yield Gl(n)):(yield n.k_.stop(),n.v_.length>0&&(U("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var $m=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,c=new n(e,t,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tp(n,e){if(Nn("AsyncQueue",`${e}: ${n}`),ia(n))return new L(S.UNAVAILABLE,`${e}: ${n}`);throw n}var Cl=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||$.comparator(t.key,i.key):(t,i)=>$.comparator(t.key,i.key),this.keyedMap=Us(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Sl=class{constructor(){this.q_=new Pe($.comparator)}track(e){let t=e.doc.key,i=this.q_.get(t);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(t,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(t):e.type===1&&i.type===2?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):W():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}},io=class n{constructor(e,t,i,r,o,s,c,l,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Cl.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var qm=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Gm=class{constructor(){this.queries=new si(e=>y0(e),Bl),this.onlineState="Unknown",this.z_=new Set}};function _N(n,e){return y(this,null,function*(){let t=X(n),i=3,r=e.query,o=t.queries.get(r);o?!o.W_()&&e.G_()&&(i=2):(o=new qm,i=e.G_()?0:1);try{switch(i){case 0:o.K_=yield t.onListen(r,!0);break;case 1:o.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let c=Tp(s,`Initialization of query '${Br(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&Ap(t)})}function yN(n,e){return y(this,null,function*(){let t=X(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function wN(n,e){let t=X(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let c of s.U_)c.H_(r)&&(i=!0);s.K_=r}}i&&Ap(t)}function IN(n,e,t){let i=X(n),r=i.queries.get(e);if(r)for(let o of r.U_)o.onError(t);i.queries.delete(e)}function Ap(n){n.z_.forEach(e=>{e.next()})}var Hm,Zw;(Zw=Hm||(Hm={})).J_="default",Zw.Cache="cache";var Wm=class{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new io(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let i=t!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Hm.Cache}};var kl=class{constructor(e){this.key=e}},Rl=class{constructor(e){this.key=e}},Km=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ie(),this.mutatedKeys=ie(),this.Ia=w0(e),this.Ta=new Cl(this.Ia)}get Ea(){return this.la}da(e,t){let i=t?t.Aa:new Sl,r=t?t.Ta:this.Ta,o=t?t.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{let _=r.get(f),x=zl(this.query,p)?p:null,R=!!_&&this.mutatedKeys.has(_.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations),k=!1;_&&x?_.data.isEqual(x.data)?R!==M&&(i.track({type:3,doc:x}),k=!0):this.Ra(_,x)||(i.track({type:2,doc:x}),k=!0,(l&&this.Ia(x,l)>0||d&&this.Ia(x,d)<0)&&(c=!0)):!_&&x?(i.track({type:0,doc:x}),k=!0):_&&!x&&(i.track({type:1,doc:_}),k=!0,(l||d)&&(c=!0)),k&&(x?(s=s.add(x),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{Ta:s,Aa:i,Xi:c,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((f,p)=>function(x,R){let M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return M(x)-M(R)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(i),r=r!=null&&r;let c=t&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new io(this.query,e.Ta,o,s,e.mutatedKeys,l===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Sl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=ie(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new Rl(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new kl(i))}),t}pa(e){this.la=e.hs,this.Pa=ie();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return io.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Qm=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Ym=class{constructor(e){this.key=e,this.wa=!1}},Jm=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new si(c=>y0(c),Bl),this.Da=new Map,this.Ca=new Set,this.va=new Pe($.comparator),this.Fa=new Map,this.Ma=new Js,this.xa={},this.Oa=new Map,this.Na=Ys.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function EN(n,e,t=!0){return y(this,null,function*(){let i=eI(n),r,o=i.ba.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield Q0(i,e,t,!0),r})}function TN(n,e){return y(this,null,function*(){let t=eI(n);yield Q0(t,e,!0,!1)})}function Q0(n,e,t,i){return y(this,null,function*(){let r=yield oN(n.localStore,un(e)),o=r.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current",c;return i&&(c=yield AN(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&$0(n.remoteStore,r),c})}function AN(n,e,t,i,r){return y(this,null,function*(){n.Ba=(p,_,x)=>function(M,k,H,Y){return y(this,null,function*(){let Z=k.view.da(H);Z.Xi&&(Z=yield Jw(M.localStore,k.query,!1).then(({documents:I})=>k.view.da(I,Z)));let we=Y&&Y.targetChanges.get(k.targetId),pt=Y&&Y.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(Z,M.isPrimaryClient,we,pt);return t0(M,k.targetId,le.fa),le.snapshot})}(n,p,_,x);let o=yield Jw(n.localStore,e,!0),s=new Km(e,o.hs),c=s.da(o.documents),l=Ks.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=s.applyChanges(c,n.isPrimaryClient,l);t0(n,t,d.fa);let f=new Qm(e,t,s);return n.ba.set(e,f),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),d.snapshot})}function xN(n,e,t){return y(this,null,function*(){let i=X(n),r=i.ba.get(e),o=i.Da.get(r.targetId);if(o.length>1)return i.Da.set(r.targetId,o.filter(s=>!Bl(s,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&yp(i.remoteStore,r.targetId),Xm(i,r.targetId)}).catch(na))):(Xm(i,r.targetId),yield Nm(i.localStore,r.targetId,!0))})}function CN(n,e){return y(this,null,function*(){let t=X(n),i=t.ba.get(e),r=t.Da.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),yp(t.remoteStore,i.targetId))})}function SN(n,e,t){return y(this,null,function*(){let i=ON(n);try{let r=yield function(s,c){let l=X(s),d=He.now(),f=c.reduce((x,R)=>x.add(R.key),ie()),p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let R=On(),M=ie();return l.os.getEntries(x,f).next(k=>{R=k,R.forEach((H,Y)=>{Y.isValidDocument()||(M=M.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,R)).next(k=>{p=k;let H=[];for(let Y of c){let Z=NP(Y,p.get(Y.key).overlayedDocument);Z!=null&&H.push(new fn(Y.key,Z,f0(Z.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(x,d,H,c)}).next(k=>{_=k;let H=k.applyToLocalDocumentSet(p,M);return l.documentOverlayCache.saveOverlays(x,k.batchId,H)})}).then(()=>({batchId:_.batchId,changes:E0(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,l){let d=s.xa[s.currentUser.toKey()];d||(d=new Pe(se)),d=d.insert(c,l),s.xa[s.currentUser.toKey()]=d}(i,r.batchId,t),yield oa(i,r.changes),yield Gl(i.remoteStore)}catch(r){let o=Tp(r,"Failed to persist write");t.reject(o)}})}function Y0(n,e){return y(this,null,function*(){let t=X(n);try{let i=yield nN(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Fa.get(o);s&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?ye(s.wa):r.removedDocuments.size>0&&(ye(s.wa),s.wa=!1))}),yield oa(t,i,e)}catch(i){yield na(i)}})}function e0(n,e,t){let i=X(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.ba.forEach((o,s)=>{let c=s.view.j_(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=X(s);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let _ of p.U_)_.j_(c)&&(d=!0)}),d&&Ap(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function kN(n,e,t){return y(this,null,function*(){let i=X(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Fa.get(e),o=r&&r.key;if(o){let s=new Pe($.comparator);s=s.insert(o,Kt.newNoDocument(o,ee.min()));let c=ie().add(o),l=new gl(ee.min(),new Map,new Pe(se),s,c);yield Y0(i,l),i.va=i.va.remove(o),i.Fa.delete(e),xp(i)}else yield Nm(i.localStore,e,!1).then(()=>Xm(i,e,t)).catch(na)})}function RN(n,e){return y(this,null,function*(){let t=X(n),i=e.batch.batchId;try{let r=yield tN(t.localStore,e);X0(t,i,null),J0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield oa(t,r)}catch(r){yield na(r)}})}function DN(n,e,t){return y(this,null,function*(){let i=X(n);try{let r=yield function(s,c){let l=X(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(ye(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(i.localStore,e);X0(i,e,t),J0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield oa(i,r)}catch(r){yield na(r)}})}function J0(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function X0(n,e,t){let i=X(n),r=i.xa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Xm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Da.get(e))n.ba.delete(i),t&&n.Sa.ka(i,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(i=>{n.Ma.containsKey(i)||Z0(n,i)})}function Z0(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(yp(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),xp(n))}function t0(n,e,t){for(let i of t)i instanceof kl?(n.Ma.addReference(i.key,e),PN(n,i)):i instanceof Rl?(U("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,e),n.Ma.containsKey(i.key)||Z0(n,i.key)):W()}function PN(n,e){let t=e.key,i=t.path.canonicalString();n.va.get(t)||n.Ca.has(i)||(U("SyncEngine","New document in limbo: "+t),n.Ca.add(i),xp(n))}function xp(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new $(ke.fromString(e)),i=n.Na.next();n.Fa.set(i,new Ym(t)),n.va=n.va.insert(t,i),$0(n.remoteStore,new Qs(un(vp(t.path)),i,"TargetPurposeLimboResolution",u0.oe))}}function oa(n,e,t){return y(this,null,function*(){let i=X(n),r=[],o=[],s=[];i.ba.isEmpty()||(i.ba.forEach((c,l)=>{s.push(i.Ba(l,e,t).then(d=>{var f;if((d||t)&&i.isPrimaryClient){let p=d?!d.fromCache:(f=t?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){r.push(d);let p=km.Ki(l.targetId,d);o.push(p)}}))}),yield Promise.all(s),i.Sa.h_(r),yield function(l,d){return y(this,null,function*(){let f=X(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>D.forEach(d,_=>D.forEach(_.qi,x=>f.persistence.referenceDelegate.addReference(p,_.targetId,x)).next(()=>D.forEach(_.Qi,x=>f.persistence.referenceDelegate.removeReference(p,_.targetId,x)))))}catch(p){if(!ia(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let _=p.targetId;if(!p.fromCache){let x=f.ns.get(_),R=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(R);f.ns=f.ns.insert(_,M)}}})}(i.localStore,o))})}function NN(n,e){return y(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let i=yield B0(t.localStore,e);t.currentUser=e,function(o,s){o.Oa.forEach(c=>{c.forEach(l=>{l.reject(new L(S.CANCELLED,s))})}),o.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield oa(t,i.us)}})}function MN(n,e){let t=X(n),i=t.Fa.get(e);if(i&&i.wa)return ie().add(i.key);{let r=ie(),o=t.Da.get(e);if(!o)return r;for(let s of o){let c=t.ba.get(s);r=r.unionWith(c.view.Ea)}return r}}function eI(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kN.bind(null,e),e.Sa.h_=wN.bind(null,e.eventManager),e.Sa.ka=IN.bind(null,e.eventManager),e}function ON(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DN.bind(null,e),e}var Dl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=$l(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return eN(this.persistence,new Dm,e.initialUser,this.serializer)}createPersistence(e){return new xm(Sm.Hr,this.serializer)}createSharedClientState(e){return new Mm}terminate(){return y(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Zm=class{initialize(e,t){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>e0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),yield vN(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Gm}()}createDatastore(e){let t=$l(e.databaseInfo.databaseId),i=function(o){return new Vm(o)}(e.databaseInfo);return function(o,s,c,l){return new jm(o,s,c,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,c){return new zm(i,r,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,t=>e0(this.syncEngine,t,0),function(){return El.D()?new El:new Om}())}createSyncEngine(e,t){return function(r,o,s,c,l,d,f){let p=new Jm(r,o,s,c,l,d);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return y(this,null,function*(){var e;yield function(i){return y(this,null,function*(){let r=X(i);U("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield ra(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var ep=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var tp=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ye.UNAUTHENTICATED,this.clientId=ul.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>y(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Tp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Rf(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>y(this,null,function*(){i.isEqual(r)||(yield B0(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function n0(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield VN(n);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Xw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Xw(e.remoteStore,r)),n._onlineComponents=e})}function FN(n){return n.name==="FirebaseError"?n.code===S.FAILED_PRECONDITION||n.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function VN(n){return y(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rf(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!FN(t))throw t;Wr("Error using user provided cache. Falling back to memory cache: "+t),yield Rf(n,new Dl)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Rf(n,new Dl);return n._offlineComponents})}function tI(n){return y(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield n0(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield n0(n,new Zm))),n._onlineComponents})}function LN(n){return tI(n).then(e=>e.syncEngine)}function i0(n){return y(this,null,function*(){let e=yield tI(n),t=e.eventManager;return t.onListen=EN.bind(null,e.syncEngine),t.onUnlisten=xN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CN.bind(null,e.syncEngine),t})}function nI(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var r0=new Map;function iI(n,e,t){if(!t)throw new L(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UN(n,e,t,i){if(e===!0&&i===!0)throw new L(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function o0(n){if(!$.isDocumentKey(n))throw new L(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s0(n){if($.isDocumentKey(n))throw new L(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hl(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W()}function ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Hl(n);throw new L(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Pl=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new L(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(S.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ro=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pl(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Df;switch(i.type){case"firstParty":return new Of(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new L(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=r0.get(t);i&&(U("ComponentProvider","Removing Datastore"),r0.delete(t),i.terminate())}(this),Promise.resolve()}};function rI(n,e,t,i={}){var r;let o=(n=ii(n,ro))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,l;if(typeof i.mockUserToken=="string")c=i.mockUserToken,l=Ye.MOCK_USER;else{c=u_(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new L(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ye(d)}n._authCredentials=new Pf(new ll(c,l))}}var oo=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Et=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ri=class n extends oo{constructor(e,t,i){super(e,t,vp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new $(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function oI(n,e,...t){if(n=Ve(n),iI("collection","path",e),n instanceof ro){let i=ke.fromString(e,...t);return s0(i),new ri(n,null,i)}{if(!(n instanceof Et||n instanceof ri))throw new L(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ke.fromString(e,...t));return s0(i),new ri(n.firestore,null,i)}}function Cp(n,e,...t){if(n=Ve(n),arguments.length===1&&(e=ul.newId()),iI("doc","path",e),n instanceof ro){let i=ke.fromString(e,...t);return o0(i),new Et(n,null,new $(i))}{if(!(n instanceof Et||n instanceof ri))throw new L(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ke.fromString(e,...t));return o0(i),new Et(n.firestore,n instanceof ri?n.converter:null,new $(i))}}var np=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Tl(this,"async_queue_retry"),this.hu=()=>{let t=kf();t&&U("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=kf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new Dn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return y(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ia(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(i);throw Nn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let r=$m.createAndSchedule(this,e,t,i,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&W()}verifyOperationInProgress(){}du(){return y(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};function a0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ci=class extends ro{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new np}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cI(this),this._firestoreClient.terminate()}};function sI(n,e){let t=typeof n=="object"?n:Dr(),i=typeof n=="string"?n:e||"(default)",r=gs(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=l_("firestore");o&&rI(r,...o)}return r}function aI(n){return n._firestoreClient||cI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cI(n){var e,t,i;let r=n._freezeSettings(),o=function(c,l,d,f){return new jf(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nI(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new tp(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Xs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(t){throw new L(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var so=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zs=class{constructor(e){this._methodName=e}};var ea=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var jN=/^__.*__$/,ip=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new fn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qi(e,this.data,t,this.fieldTransforms)}},Nl=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function lI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var rp=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ol(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(lI(this.fu)&&jN.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},op=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||$l(e)}Fu(e,t,i,r=!1){return new rp({fu:e,methodName:t,vu:i,path:Pt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Sp(n){let e=n._freezeSettings(),t=$l(n._databaseId);return new op(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BN(n,e,t,i,r,o={}){let s=n.Fu(o.merge||o.mergeFields?2:0,e,t,r);kp("Data must be an object, but it was:",s,i);let c=uI(i,s),l,d;if(o.merge)l=new Ut(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let _=sp(e,p,t);if(!s.contains(_))throw new L(S.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);hI(f,_)||f.push(_)}l=new Ut(f),d=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=s.fieldTransforms;return new ip(new Dt(c),l,d)}var Ml=class n extends Zs{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function zN(n,e,t,i){let r=n.Fu(1,e,t);kp("Data must be an object, but it was:",r,i);let o=[],s=Dt.empty();Yi(i,(l,d)=>{let f=Rp(e,l,t);d=Ve(d);let p=r.Su(f);if(d instanceof Ml)o.push(f);else{let _=sa(d,p);_!=null&&(o.push(f),s.set(f,_))}});let c=new Ut(o);return new Nl(s,c,r.fieldTransforms)}function $N(n,e,t,i,r,o){let s=n.Fu(1,e,t),c=[sp(e,i,t)],l=[r];if(o.length%2!=0)throw new L(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(sp(e,o[_])),l.push(o[_+1]);let d=[],f=Dt.empty();for(let _=c.length-1;_>=0;--_)if(!hI(d,c[_])){let x=c[_],R=l[_];R=Ve(R);let M=s.Su(x);if(R instanceof Ml)d.push(x);else{let k=sa(R,M);k!=null&&(d.push(x),f.set(x,k))}}let p=new Ut(d);return new Nl(f,p,s.fieldTransforms)}function qN(n,e,t,i=!1){return sa(t,n.Fu(i?4:3,e))}function sa(n,e){if(dI(n=Ve(n)))return kp("Unsupported field value:",e,n),uI(n,e);if(n instanceof Zs)return function(i,r){if(!lI(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let c of i){let l=sa(c,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=He.fromDate(i);return{timestampValue:yl(r.serializer,o)}}if(i instanceof He){let o=new He(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yl(r.serializer,o)}}if(i instanceof ea)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xs)return{bytesValue:M0(r.serializer,i._byteString)};if(i instanceof Et){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_p(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Hl(i)}`)}(n,e)}function uI(n,e){let t={};return d0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(n,(i,r)=>{let o=sa(r,e.pu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function dI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof He||n instanceof ea||n instanceof Xs||n instanceof Et||n instanceof Zs)}function kp(n,e,t){if(!dI(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Hl(t);throw i==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+i)}}function sp(n,e,t){if((e=Ve(e))instanceof so)return e._internalPath;if(typeof e=="string")return Rp(n,e);throw Ol("Field path arguments must be of type string or ",n,!1,void 0,t)}var GN=new RegExp("[~\\*/\\[\\]]");function Rp(n,e,t){if(e.search(GN)>=0)throw Ol(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new so(...e.split("."))._internalPath}catch{throw Ol(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ol(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new L(S.INVALID_ARGUMENT,c+n+l)}function hI(n,e){return n.some(t=>t.isEqual(e))}var Fl=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Dp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ap=class extends Fl{data(){return super.data()}};function Dp(n,e){return typeof e=="string"?Rp(n,e):e instanceof so?e._internalPath:e._delegate._internalPath}function HN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ta=class{},cp=class extends ta{};function fI(n,e,...t){let i=[];e instanceof ta&&i.push(e),i=i.concat(t),function(o){let s=o.filter(l=>l instanceof lp).length,c=o.filter(l=>l instanceof Vl).length;if(s>1||s>0&&c>0)throw new L(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Vl=class n extends cp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return pI(e._query,t),new oo(e.firestore,e.converter,Zf(e._query,t))}_parse(e){let t=Sp(e.firestore);return function(o,s,c,l,d,f,p){let _;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new L(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){l0(p,f);let x=[];for(let R of p)x.push(c0(l,o,R));_={arrayValue:{values:x}}}else _=c0(l,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||l0(p,f),_=qN(c,s,p,f==="in"||f==="not-in");return je.create(d,f,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function mI(n,e,t){let i=e,r=Dp("where",n);return Vl._create(r,i,t)}var lp=class n extends ta{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Qt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let l of c)pI(s,l),s=Zf(s,l)}(e._query,t),new oo(e.firestore,e.converter,Zf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function c0(n,e,t){if(typeof(t=Ve(t))=="string"){if(t==="")throw new L(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_0(e)&&t.indexOf("/")!==-1)throw new L(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(ke.fromString(t));if(!$.isDocumentKey(i))throw new L(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mw(n,new $(i))}if(t instanceof Et)return Mw(n,t._key);throw new L(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hl(t)}.`)}function l0(n,e){if(!Array.isArray(n)||n.length===0)throw new L(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pI(n,e){let t=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new L(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var up=class{convertValue(e,t="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw W()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Yi(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new ea(De(e.latitude),De(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=mp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Gs(e));default:return null}}convertTimestamp(e){let t=Mn(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=ke.fromString(e);ye(j0(i));let r=new ml(i.get(1),i.get(3)),o=new $(i.popFirst(5));return r.isEqual(t)||Nn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function WN(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var zi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ll=class extends Fl{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Dp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Hr=class extends Ll{data(e={}){return super.data(e)}},dp=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zi(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Hr(this._firestore,this._userDataWriter,i.key,i,new zi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new Hr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new zi(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Hr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new zi(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:KN(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function KN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}var Ul=class extends up{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}};function gI(n,e,t,...i){n=ii(n,Et);let r=ii(n.firestore,ci),o=Sp(r),s;return s=typeof(e=Ve(e))=="string"||e instanceof so?$N(o,"updateDoc",n._key,e,t,i):zN(o,"updateDoc",n._key,e),Np(r,[s.toMutation(n._key,Pn.exists(!0))])}function bI(n){return Np(ii(n.firestore,ci),[new Ws(n._key,Pn.none())])}function vI(n,e){let t=ii(n.firestore,ci),i=Cp(n),r=WN(n.converter,e);return Np(t,[BN(Sp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Pn.exists(!1))]).then(()=>i)}function Pp(n,...e){var t,i,r;n=Ve(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||a0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(a0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,d,f;if(n instanceof Et)d=ii(n.firestore,ci),f=vp(n._key.path),l={next:p=>{e[s]&&e[s](QN(d,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ii(n,oo);d=ii(p.firestore,ci),f=p._query;let _=new Ul(d);l={next:x=>{e[s]&&e[s](new dp(d,_,p,x))},error:e[s+1],complete:e[s+2]},HN(n._query)}return function(_,x,R,M){let k=new ep(M),H=new Wm(x,k,R);return _.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return _N(yield i0(_),H)})),()=>{k.$a(),_.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return yN(yield i0(_),H)}))}}(aI(d),f,c,l)}function Np(n,e){return function(i,r){let o=new Dn;return i.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return SN(yield LN(i),r,o)})),o.promise}(aI(n),e)}function QN(n,e,t){let i=t.docs.get(e._key),r=new Ul(n);return new Ll(n,r,e._key,i,new zi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){ao=r})(Jn),Yn(new Lt("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new ci(new Nf(i.getProvider("auth-internal")),new Vf(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new L(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ge(Dw,"4.6.4",e),Ge(Dw,"4.6.4","esm2017")})();var Wl=function(){return Wl=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Wl.apply(this,arguments)};var XN={includeMetadataChanges:!1};function _I(n,e){return e===void 0&&(e=XN),new Nt(function(t){var i=Pp(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function yI(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Wl(Wl({},i),(t={},t[e.idField]=n.id,t))}function wI(n){return _I(n,{includeMetadataChanges:!0}).pipe(z(function(e){return e.docs}))}function II(n,e){return e===void 0&&(e={}),wI(n).pipe(z(function(t){return t.map(function(i){return yI(i,e)})}))}var Xi=class{constructor(e){return e}},EI="firestore",Mp=class{constructor(){return bs(EI)}};var Op=new q("angularfire2.firestore-instances");function ZN(n,e){let t=mc(EI,n,e);return t&&new Xi(t)}function eM(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Xi(i)}}var tM={provide:Mp,deps:[[new vt,Op]]},nM={provide:Xi,useFactory:ZN,deps:[[new vt,Op],An]};function TI(n,...e){return Ge("angularfire",Ni.full,"fst"),At([nM,tM,{provide:Op,useFactory:eM(n),multi:!0,deps:[J,It,Mr,Mi,[new vt,Ss],[new vt,Nr],...e]}])}var AI=rt(II,!0);var xI=rt(vI,!0);var CI=rt(oI,!0);var SI=rt(bI,!0);var Fp=rt(Cp,!0);var kI=rt(sI,!0);var RI=rt(fI,!0);var DI=rt(gI,!0);var PI=rt(mI,!0);var NI=(()=>{class n{fireStore;taskCollectionRef;constructor(t){this.fireStore=t,this.taskCollectionRef=CI(t,"task")}getTasks(t){let i=RI(this.taskCollectionRef,PI("user","==",t));return AI(i,{idField:"_id"})}removeTask(t){SI(Fp(this.taskCollectionRef,t._id))}updateTastStatus(t){let i=Fp(this.taskCollectionRef,t._id);DI(i,{completed:!t.completed})}createNewTask(t,i){return y(this,null,function*(){let r={description:t,user:i,completed:!1,timestamp:He.now()};yield xI(this.taskCollectionRef,r)})}static \u0275fac=function(i){return new(i||n)(F(Xi))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oM=(n,e)=>e._id;function sM(n,e){if(n&1){let t=Xt();G(0,"div",5)(1,"mat-checkbox",7),ge("change",function(){let r=Ze(t).$implicit,o=nt();return et(o.taskService.updateTastStatus(r))}),ze(2),K(),G(3,"mat-icon",8),ge("click",function(){let r=Ze(t).$implicit,o=nt();return et(o.taskService.removeTask(r))}),K()()}if(n&2){let t=e.$implicit;ae(),Be("checked",t.completed),ae(),Ru(" ",t.description," ")}}function aM(n,e){n&1&&(G(0,"div",6),ze(1," Please wait ! "),K())}function cM(n,e){if(n&1&&Ne(0,aM,2,0,"div",9),n&2){let t=nt();Be("ngIf",t.isLoading)}}var MI=(()=>{class n{authService;taskService;taskList=[];description="";isLoading=!0;constructor(t,i,r){this.authService=i,this.taskService=r,t.setTitle("To-do List App"),r.getTasks(i.getPrincipalEmail()).subscribe(o=>{this.isLoading=!1,this.taskList=o,this.taskList.sort((s,c)=>s.timestamp.toMillis()<c.timestamp.toMillis()?1:s.timestamp.toMillis()===c.timestamp.toMillis()?0:-1)})}addTask(t){if(this.description.trim().length)try{this.taskService.createNewTask(this.description,this.authService.getPrincipalEmail()),this.description=""}catch(i){console.log(i),alert("Failed to save the Task, try again!")}else{t.select(),t.focus();return}}static \u0275fac=function(i){return new(i||n)(P(qn),P(an),P(NI))};static \u0275cmp=xe({type:n,selectors:[["app-main"]],standalone:!0,features:[Se],decls:13,vars:2,consts:[["txt",""],[1,"flex","p-2","pb-0","items-center","gap-3","border-b","border-0","border-solid","border-gray-200"],["appearance","outline",1,"flex-grow","!m-0"],["name","description","matInput","","placeholder","Eg: Enter Task Description",3,"ngModelChange","ngModel"],["mat-button","",3,"click"],[1,"hover:bg-amber-100","rounded","flex","justify-between","items-center"],[1,"text-center"],[1,"employee-margin",3,"change","checked"],["fontIcon","delete",1,"!text-xl","text-gray-400","cursor-pointer","hover:text-red-600",3,"click"],["class","text-center",4,"ngIf"]],template:function(i,r){if(i&1){let o=Xt();de(0,"app-app-bar"),G(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),ze(4,"Input"),K(),G(5,"input",3,0),Eb("ngModelChange",function(c){return Ze(o),Ib(r.description,c)||(r.description=c),et(c)}),K()(),G(7,"button",4),ge("click",function(){Ze(o);let c=yi(6);return et(r.addTask(c))}),ze(8,"ADD"),K()(),G(9,"diV"),bb(10,sM,4,2,"div",5,oM,!1,cM,1,1,"div",6),K()}i&2&&(ae(5),wb("ngModel",r.description),ae(5),vb(r.taskList))},dependencies:[My,pf,Uc,Ew,Sw,Cw,nl,kr,lw,cw,Xc,ew,tw,hf,Fs,Fa]})}return n})();var OI=(n,e)=>{let t=V(an),i=V(xr);return t.getPrincipal()?!0:i.parseUrl("/sign-in")};var FI=[{path:"sign-in",component:Sy},{path:"",canActivate:[OI],component:MI}];var lM="@",uM=(()=>{let e=class e{constructor(i,r,o,s,c){this.doc=i,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=V(ub,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-H7H2UXJ5.js").then(r=>r)).catch(r=>{throw new pe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,r){let o=this.delegate.createRenderer(i,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Vp(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(i,r);s.use(l),this.scheduler?.notify(9)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Vo()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),Vp=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(lM)}};function VI(n="animations"){return db("NgAsyncAnimations"),At([{provide:Da,useFactory:(e,t,i)=>new uM(e,t,i,n),deps:[fe,Ua,J]},{provide:zt,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ca="Service workers are disabled or not supported by this browser";function dM(n){return rr(()=>bn(new Error(n)))}var lo=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=dM(ca);else{let i=Sa(e,"controllerchange").pipe(z(()=>e.controller)),r=rr(()=>B(e.controller)),o=ir(r,i);this.worker=o.pipe(We(f=>!!f)),this.registration=this.worker.pipe(ut(()=>e.getRegistration()));let d=Sa(e,"message").pipe(z(f=>f.data)).pipe(We(f=>f&&f.type)).pipe(Hg());d.connect(),this.events=d}}postMessage(e,t){return this.worker.pipe(Xe(1),be(i=>{i.postMessage(N({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){let r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=i=>i.type===e:t=i=>e.includes(i.type),this.events.pipe(We(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Xe(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(We(t=>t.nonce===e),Xe(1),z(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},hM=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,this.pushManager=null,this.subscriptionChanges=new Ee,!i.isEnabled){this.messages=or,this.notificationClicks=or,this.subscription=or;return}this.messages=this.sw.eventsOfType("PUSH").pipe(z(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(z(o=>o.data)),this.pushManager=this.sw.registration.pipe(z(o=>o.pushManager));let r=this.pushManager.pipe(ut(o=>o.getSubscription()));this.subscription=Do(r,this.subscriptionChanges)}requestSubscription(i){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(ca));let r={userVisibleOnly:!0},o=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let c=0;c<o.length;c++)s[c]=o.charCodeAt(c);return r.applicationServerKey=s,this.pushManager.pipe(ut(c=>c.subscribe(r)),Xe(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ca));let i=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Xe(1),ut(i)).toPromise()}decodeBase64(i){return atob(i)}};e.\u0275fac=function(r){return new(r||e)(F(lo))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),fM=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,!i.isEnabled){this.versionUpdates=or,this.unrecoverable=or;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ca));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ca));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}};e.\u0275fac=function(r){return new(r||e)(F(lo))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})();var LI=new q("");function mM(n,e,t,i){return()=>{if(!(Uo(i)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let r=n.get(J),o=n.get(fr);r.runOutsideAngular(()=>{let c=navigator.serviceWorker,l=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",l),o.onDestroy(()=>{c.removeEventListener("controllerchange",l)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[c,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":s=B(null);break;case"registerWithDelay":s=UI(+l[0]||0);break;case"registerWhenStable":s=l[0]?Do(jI(n),UI(+l[0])):jI(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}r.runOutsideAngular(()=>s.pipe(Xe(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function UI(n){return B(null).pipe(qg(n))}function jI(n){return n.get(fr).isStable.pipe(We(t=>t))}function pM(n,e){return new lo(Uo(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var aa=class{};function BI(n,e={}){return At([hM,fM,{provide:LI,useValue:n},{provide:aa,useValue:e},{provide:lo,useFactory:pM,deps:[aa,Ot]},{provide:Du,useFactory:mM,deps:[It,LI,aa,Ot],multi:!0}])}var zI={providers:[Cb({eventCoalescing:!0}),Mv(FI),VI(),N_(()=>M_({apiKey:"AIzaSyDHkKT4l4sTUNhQK4JT0wRQBGkkNJeJrDY",authDomain:"to-do-list-a274d.firebaseapp.com",projectId:"to-do-list-a274d",storageBucket:"to-do-list-a274d.appspot.com",messagingSenderId:"260588256984",appId:"1:260588256984:web:4f457ec3862ea4ae8fe1ad"})),Ty(()=>xy()),TI(()=>kI()),BI("ngsw-worker.js",{enabled:!Sb(),registrationStrategy:"registerWhenStable:30000"})]};var $I=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=xe({type:n,selectors:[["app-loader"]],standalone:!0,features:[Se],decls:2,vars:0,consts:[[1,"h-dvh","w-dvw","fixed","top-0","left-0","flex","justify-center","items-center"],[1,"loader"]],template:function(i,r){i&1&&(G(0,"div",0),de(1,"div",1),K())},styles:[".loader[_ngcontent-%COMP%]{width:50px;aspect-ratio:1;border-radius:50%;border:8px solid lightblue;border-right-color:orange;animation:_ngcontent-%COMP%_l2 1s infinite linear}@keyframes _ngcontent-%COMP%_l2{to{transform:rotate(1turn)}}"]})}return n})();function gM(n,e){n&1&&de(0,"router-outlet")}function bM(n,e){n&1&&de(0,"app-loader")}var qI=(()=>{class n{authService;constructor(t,i){this.authService=t,i.setTitle("Loading - To-do List App")}static \u0275fac=function(i){return new(i||n)(P(an),P(qn))};static \u0275cmp=xe({type:n,selectors:[["app-root"]],standalone:!0,features:[Se],decls:2,vars:1,template:function(i,r){i&1&&Ne(0,gM,1,0,"router-outlet")(1,bM,1,0,"app-loader"),i&2&&tt(r.authService.isInitialized()?0:1)},dependencies:[kd,$I]})}return n})();Zb(qI,zI).catch(n=>console.error(n));
